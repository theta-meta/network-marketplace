(this["webpackJsonptheta-wallet-web"]=this["webpackJsonptheta-wallet-web"]||[]).push([[0],{12:function(e,t,a){"use strict";(function(e){var n=a(33),r=a(4),s=a(3),i=a(5),o=a(1),l=a(2),c=a(244),u=a.n(c),d=a(245),h=a.n(d),m=a(11),p=a.n(m),f=a(16),v=a.n(f),g=a(21),b=a.n(g),k=a(126),E=a.n(k),y=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"signBytes",value:function(e){}},{key:"getType",value:function(){}},{key:"rlpInput",value:function(){}}]),e}(),T=function(e){return(u()(e)||h()(e))&&/^(-)?0x[0-9a-f]*$/i.test(e)},C=function(e){if(e=e.toString(16),!T(e))throw new Error('Given value "'.concat(e,'" is not a valid hex string.'));e=(e=e.replace(/^0x/i,"")).length%2?"0"+e:e;for(var t=[],a=0;a<e.length;a+=2)t.push(parseInt(e.substr(a,2),16));return t};p.a.prototype.pad=function(e){for(var t=String(this);t.length<(e||2);)t="0"+t;return t};var w,O=function(e){var t="0x"===e.slice(0,2)?16:10;return"0x"+new p.a(e,t).pad(2)},N=function(e){return null===e||void 0===e?v.a.fromNat("0x0"):e.isEqualTo(new p.a(0))?v.a.fromNat("0x0"):v.a.fromNumber(e)},_=function(){function e(t,a){Object(o.a)(this,e),this.thetaWei=t,this.tfuelWei=a}return Object(l.a)(e,[{key:"rlpInput",value:function(){var e=[N(this.thetaWei),N(this.tfuelWei)];return e}}]),e}(),S=function(){function e(t,a,n,r){Object(o.a)(this,e),this.address=t,this.sequence=r,this.signature="",this.coins=a||n?new _(a,n):new _(null,null)}return Object(l.a)(e,[{key:"setSignature",value:function(e){this.signature=e}},{key:"rlpInput",value:function(){return[this.address?this.address.toLowerCase():v.a.fromNat("0x0"),this.coins.rlpInput(),v.a.fromNumber(this.sequence),this.signature]}}]),e}(),j=function(){function e(t,a,n){Object(o.a)(this,e),this.address=t,this.coins=a||n?new _(a,n):new _(null,null)}return Object(l.a)(e,[{key:"rlpInput",value:function(){return[this.address?this.address.toLowerCase():"0x0000000000000000000000000000000000000000",this.coins.rlpInput()]}}]),e}(),A=2,x=7,F=8,P=9,I=10,B=function(){function e(t){Object(o.a)(this,e),this.nonce="0x0",this.gasPrice="0x0",this.gas="0x0",this.to="0x0000000000000000000000000000000000000000",this.value="0x0",this.input=t}return Object(l.a)(e,[{key:"rlpInput",value:function(){return[v.a.fromNat(this.nonce),v.a.fromNat(this.gasPrice),v.a.fromNat(this.gas),this.to.toLowerCase(),v.a.fromNat(this.value),this.input]}}]),e}(),W=function(e){function t(e,a,n,i){var l;Object(o.a)(this,t),l=Object(r.a)(this,Object(s.a)(t).call(this));for(var c=new p.a(0),u=new p.a(0),d=p.a.isBigNumber(n)?n:new p.a(n),h=0;h<a.length;h++){var m=a[h],f=m.thetaWei,v=m.tfuelWei,g=p.a.isBigNumber(f)?f:new p.a(f),b=p.a.isBigNumber(v)?v:new p.a(v);c=c.plus(g),u=u.plus(b)}l.fee=new _(new p.a(0),d);var k=new S(e,c,u.plus(d),i);l.inputs=[k],l.outputs=[];for(var E=0;E<a.length;E++){var y=a[E],T=y.address,C=y.thetaWei,w=y.tfuelWei,O=p.a.isBigNumber(C)?C:new p.a(C),N=p.a.isBigNumber(w)?w:new p.a(w),A=new j(T,O,N);l.outputs.push(A)}return l}return Object(i.a)(t,e),Object(l.a)(t,[{key:"setSignature",value:function(e){this.inputs[0].setSignature(e)}},{key:"signBytes",value:function(e){for(var t=[],a=0;a<this.inputs.length;a++){var n=this.inputs[a];t[a]=n.signature,n.signature=""}var r=b.a.encode(v.a.fromString(e)),s=b.a.encode(v.a.fromNumber(this.getType())),i=b.a.encode(this.rlpInput()),o=r+s.slice(2)+i.slice(2),l=new B(o),c=b.a.encode(l.rlpInput());console.log("SendTx :: signBytes :: txRawBytes = "+c);for(var u=0;u<this.inputs.length;u++){this.inputs[u].signature=t[u]}return c}},{key:"getType",value:function(){return A}},{key:"rlpInput",value:function(){for(var e=this.inputs.length,t=this.outputs.length,a=[],n=[],r=0;r<e;r++)a[r]=this.inputs[r].rlpInput();for(var s=0;s<t;s++)n[s]=this.outputs[s].rlpInput();var i=[this.fee.rlpInput(),a,n];return i}}]),t}(y),H={StakeForValidator:0,StakeForGuardian:1,StakeForEliteEdge:2},D=function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),t}(y),M=function(e){function t(e,a,n,i,l,c){var u;Object(o.a)(this,t),u=Object(r.a)(this,Object(s.a)(t).call(this));var d=p.a.isBigNumber(i)?i:new p.a(i);u.fee=new _(new p.a(0),d);var h=p.a.isBigNumber(n)?n:new p.a(n);return u.source=new S(e,h,null,c),u.purpose=l,a.startsWith("0x")||(a="0x"+a),42!==a.length&&console.log("Holder must be a valid address"),u.holder=new j(a,null,null),u}return Object(i.a)(t,e),Object(l.a)(t,[{key:"setSignature",value:function(e){this.source.setSignature(e)}},{key:"signBytes",value:function(e){var t=this.source.signature;this.source.signature="";var a=b.a.encode(v.a.fromString(e)),n=b.a.encode(v.a.fromNumber(this.getType())),r=b.a.encode(this.rlpInput()),s=a+n.slice(2)+r.slice(2),i=new B(s),o=b.a.encode(i.rlpInput());return this.source.signature=t,o}},{key:"getType",value:function(){return F}},{key:"rlpInput",value:function(){var e=[this.fee.rlpInput(),this.source.rlpInput(),this.holder.rlpInput(),0===this.purpose?v.a.fromNat("0x0"):v.a.fromNumber(this.purpose)];return e}}]),t}(D),L=function(e){function t(e,a,n,i,l,c){var u;Object(o.a)(this,t),u=Object(r.a)(this,Object(s.a)(t).call(this));var d=p.a.isBigNumber(i)?i:new p.a(i);u.fee=new _(new p.a(0),d);var h=p.a.isBigNumber(n)?n:new p.a(n);u.source=l===H.StakeForEliteEdge?new S(e,null,h,c):new S(e,h,null,c),u.purpose=l,a.startsWith("0x")||(a="0x"+a),t.isValidHolderSummary(l,a)||console.log("Holder must be a valid node summary");var m=v.a.toArray(a),f=m.slice(0,20);u.blsPubkeyBytes=m.slice(20,68),u.blsPopBytes=m.slice(68,164),u.holderSigBytes=m.slice(164,229);var g=v.a.fromArray(f);return u.holder=new j(g,null,null),u}return Object(i.a)(t,e),Object(l.a)(t,null,[{key:"isValidHolderSummary",value:function(e,t){if(t){var a=t;t.startsWith("0x")||(a="0x"+t);var n=460;return e===H.StakeForEliteEdge&&(n=524),a.length===n}return!1}}]),Object(l.a)(t,[{key:"setSignature",value:function(e){this.source.setSignature(e)}},{key:"signBytes",value:function(e){var t=this.source.signature;this.source.signature="";var a=b.a.encode(v.a.fromString(e)),n=b.a.encode(v.a.fromNumber(this.getType())),r=b.a.encode(this.rlpInput()),s=a+n.slice(2)+r.slice(2),i=new B(s),o=b.a.encode(i.rlpInput());return this.source.signature=t,o}},{key:"getType",value:function(){return I}},{key:"rlpInput",value:function(){var e=[this.fee.rlpInput(),this.source.rlpInput(),this.holder.rlpInput(),v.a.fromNumber(this.purpose),v.a.fromArray(this.blsPubkeyBytes),v.a.fromArray(this.blsPopBytes),v.a.fromArray(this.holderSigBytes)];return e}}]),t}(D),U=function(e){function t(e,a,n,i,l){var c;Object(o.a)(this,t),c=Object(r.a)(this,Object(s.a)(t).call(this));var u=p.a.isBigNumber(n)?n:new p.a(n);return c.fee=new _(new p.a(0),u),c.source=new S(e,null,null,l),c.holder=new j(a,null,null),c.purpose=i,c}return Object(i.a)(t,e),Object(l.a)(t,[{key:"setSignature",value:function(e){this.source.setSignature(e)}},{key:"signBytes",value:function(e){var t=this.source.signature;this.source.signature="";var a=b.a.encode(v.a.fromString(e)),n=b.a.encode(v.a.fromNumber(this.getType())),r=b.a.encode(this.rlpInput()),s=a+n.slice(2)+r.slice(2),i=new B(s),o=b.a.encode(i.rlpInput());return console.log("SendTx :: signBytes :: txRawBytes = "+o),this.source.signature=t,o}},{key:"getType",value:function(){return P}},{key:"rlpInput",value:function(){var e=[this.fee.rlpInput(),this.source.rlpInput(),this.holder.rlpInput(),0===this.purpose?v.a.fromNat("0x0"):v.a.fromNumber(this.purpose)];return e}}]),t}(D),R=new((window.elliptic||a(56)).ec)("secp256k1"),G=(w=0,function(t,a){var r=R.keyFromPrivate(new e(a.slice(2),"hex")).sign(new e(t.slice(2),"hex"),{canonical:!0});return function(e){var t=Object(n.a)(e,3),a=t[0],r=t[1],s=t[2];return v.a.flatten([r,s,a])}([O(v.a.fromNumber(w+r.recoveryParam)),v.a.pad(32,v.a.fromNat("0x"+r.r.toString(16))),v.a.pad(32,v.a.fromNat("0x"+r.s.toString(16)))])}),K=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,null,[{key:"signAndSerializeTx",value:function(e,t,a){var n=this.signTx(e,t,a);return this.serializeTx(n)}},{key:"signTx",value:function(e,t,a){var n=function(e){T(e)&&/^0x/i.test(e.toString())&&(e=C(e));var t=E.a.keccak256(e);return"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===t?null:t}(t.signBytes(e)),r=G(n,a);return t.setSignature(r),t}},{key:"serializeTx",value:function(e){return b.a.encode(v.a.fromNumber(e.getType()))+b.a.encode(e.rlpInput()).slice(2)}}]),e}(),V=(a(29),{SendTx:W,DepositStakeTx:M,DepositStakeV2Tx:L,WithdrawStakeTx:U,SmartContractTx:function(e){function t(e,a,n,i,l,c,u){var d;Object(o.a)(this,t),d=Object(r.a)(this,Object(s.a)(t).call(this));var h=p.a.isBigNumber(c)?c:new p.a(c);return d.from=new S(e,null,h,u),d.to=new j(a,null,null),d.gasLimit=n,d.gasPrice=i,!1===l.toLowerCase().startsWith("0x")&&(l="0x"+l),d.data=v.a.toArray(l),d}return Object(i.a)(t,e),Object(l.a)(t,[{key:"setSignature",value:function(e){this.from.setSignature(e)}},{key:"signBytes",value:function(e){var t=this.from.signature;this.from.signature="";var a=b.a.encode(v.a.fromString(e)),n=b.a.encode(v.a.fromNumber(this.getType())),r=b.a.encode(this.rlpInput()),s=a+n.slice(2)+r.slice(2),i=new B(s),o=b.a.encode(i.rlpInput());return this.from.signature=t,o}},{key:"getType",value:function(){return x}},{key:"rlpInput",value:function(){var e=[this.from.rlpInput(),this.to.rlpInput(),v.a.fromNumber(this.gasLimit),N(this.gasPrice),v.a.fromArray(this.data)];return e}}]),t}(y),TxSigner:K,StakePurposes:H,Utils:{hexToBytes:C,bytesToHex:function(e){for(var t=[],a=0;a<e.length;a++)t.push((e[a]>>>4).toString(16)),t.push((15&e[a]).toString(16));return t.join("")}}});t.a=V}).call(this,a(14).Buffer)},124:function(e,t,a){},249:function(e,t,a){e.exports=a(609)},254:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},271:function(e,t){},293:function(e,t){},295:function(e,t){},362:function(e,t){},511:function(e,t,a){},512:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},517:function(e,t,a){},518:function(e,t,a){},519:function(e,t,a){},520:function(e,t,a){},521:function(e,t,a){},522:function(e,t,a){},523:function(e,t,a){},524:function(e,t,a){},559:function(e,t,a){},560:function(e,t,a){},561:function(e,t,a){},562:function(e,t,a){},563:function(e,t,a){},564:function(e,t,a){},565:function(e,t,a){},566:function(e,t,a){},567:function(e,t,a){},568:function(e,t,a){},569:function(e,t,a){},570:function(e,t,a){},571:function(e,t,a){},577:function(e,t,a){},578:function(e,t,a){},579:function(e,t,a){},580:function(e,t,a){},581:function(e,t,a){},582:function(e,t,a){},583:function(e,t,a){},584:function(e,t,a){},585:function(e,t,a){},586:function(e,t,a){},587:function(e,t,a){},588:function(e,t,a){},589:function(e,t,a){},590:function(e,t,a){},591:function(e,t,a){},592:function(e,t,a){},593:function(e,t,a){},594:function(e,t,a){},595:function(e,t,a){},596:function(e,t,a){},597:function(e,t,a){},598:function(e,t,a){},599:function(e,t,a){},600:function(e,t,a){},601:function(e,t,a){},609:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),i=a(51),o=a.n(i),l=(a(254),a(1)),c=a(2),u=a(4),d=a(3),h=a(5),m=a(613),p=a(615),f=a(614),v=a(248),g=a(22),b=a(20),k=a(242),E=a(243),y=a(52),T="".concat("WALLET","/FETCH_WALLET_ETHEREUM_BALANCES"),C="".concat(T,"/START"),w="".concat(T,"/END"),O=("".concat(T,"/FAILURE"),"".concat(T,"/SUCCESS")),N="".concat("WALLET","/FETCH_WALLET_BALANCES"),_="".concat(N,"/START"),S="".concat(N,"/END"),j=("".concat(N,"/FAILURE"),"".concat(N,"/SUCCESS")),A="".concat("WALLET","/SET_WALLET_ADDRESS"),x=("".concat("WALLET","/UNLOCK"),"".concat("WALLET","/RESET")),F="".concat("WALLET","/SET_NETWORK"),P=a(9),I=a(6),B=a.n(I);function W(e,t){return Object.assign.apply(Object,[{}].concat(Object(b.a)(e.map((function(e,a){return Object(P.a)({},e,t[a])})))))}function H(e,t){if(null===e)return!0;var a=(""+e).split(".");return!(a.length>0)||a[a.length-1].length<=t}function D(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function M(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var a=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),a&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(a))}function L(){var e=!0;try{e=window.navigator.onLine}catch(t){e=!0}return e}function U(e,t,a){if(!e)return e;if(e.length<=t)return e;var n=t-(a=a||"...").length,r=Math.ceil(n/2),s=Math.floor(n/2);return e.substr(0,r)+a+e.substr(e.length-s)}function R(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}var G={__deprecated__ETHEREUM:"ethereum",THETA_TESTNET:"testnet",THETA_TESTNET_AMBER:"testnet_amber",THETA_TESTNET_SAPPHIRE:"testnet_sapphire",THETA_MAINNET:"mainnet",THETA_PRIVATENET:"privatenet"},K=[{id:G.THETA_MAINNET,name:"Mainnet",description:"THETA mainnet (Default)",faucetId:"mainnet"},{id:G.THETA_TESTNET,name:"Testnet",description:"THETA testnet",faucetId:"testnet"},{id:G.THETA_TESTNET_AMBER,name:"Testnet_Amber",description:"THETA testnet for elite edge nodes (Apr 2021)"},{id:G.THETA_TESTNET_SAPPHIRE,name:"Testnet (Sapphire)",description:"THETA testnet for guardian nodes (Feb 2020)",faucetId:"sapphire"},{id:G.THETA_PRIVATENET,name:"Smart Contracts Sandbox",description:"THETA testnet for Smart Contracts (ALPHA)",faucetId:"smart_contract"}],V=W(K.map((function(e){return e.id})),K),Y=(n={},Object(P.a)(n,G.THETA_MAINNET,"https://explorer.thetatoken.org"),Object(P.a)(n,G.THETA_TESTNET,"https://beta-explorer.thetatoken.org"),Object(P.a)(n,G.THETA_TESTNET_AMBER,"https://elite-edge-testnet-explorer.thetatoken.org"),Object(P.a)(n,G.THETA_TESTNET_SAPPHIRE,"https://guardian-testnet-explorer.thetatoken.org"),Object(P.a)(n,G.THETA_PRIVATENET,"https://smart-contracts-sandbox-explorer.thetatoken.org"),n);function z(e){return e!==G.__deprecated__ETHEREUM}function q(e){return B.a.get(V,[e,"name"])}function J(e){return B.a.get(V,[e,"faucetId"])}var X=G,Z={isThetaNetworkLive:!0,defaultThetaChainID:X.THETA_MAINNET,faucetAvailable:!1},Q={network:Z.defaultThetaChainID,isFetchingBalances:!1,isFetchingEthereumBalances:!1,address:null,name:null,balances:[],balancesByType:{},balancesRefreshedAt:null,ethereumBalances:[],ethereumBalancesByType:{}},$="".concat("TRANSACTIONS","/FETCH_TRANSACTIONS_ETHEREUM"),ee="".concat($,"/START"),te="".concat($,"/END"),ae=("".concat($,"/FAILURE"),"".concat($,"/SUCCESS")),ne="".concat("TRANSACTIONS","/FETCH_TRANSACTIONS_ERC20"),re="".concat(ne,"/START"),se="".concat(ne,"/END"),ie=("".concat(ne,"/FAILURE"),"".concat(ne,"/SUCCESS")),oe="".concat("TRANSACTIONS","/FETCH_TRANSACTIONS_THETA"),le="".concat(oe,"/START"),ce="".concat(oe,"/END"),ue=("".concat(oe,"/FAILURE"),"".concat(oe,"/SUCCESS")),de="".concat("TRANSACTIONS","/CREATE_SEND_TRANSACTION"),he="".concat(de,"/START"),me="".concat(de,"/END"),pe=("".concat(de,"/FAILURE"),"".concat(de,"/SUCCESS")),fe="".concat("TRANSACTIONS","/CREATE_DEPOSIT_STAKE_TRANSACTION"),ve="".concat(fe,"/START"),ge="".concat(fe,"/END"),be=("".concat(fe,"/FAILURE"),"".concat(fe,"/SUCCESS")),ke="".concat("TRANSACTIONS","/CREATE_WITHDRAW_STAKE_TRANSACTION"),Ee="".concat(ke,"/START"),ye="".concat(ke,"/END"),Te=("".concat(ke,"/FAILURE"),"".concat(ke,"/SUCCESS")),Ce="".concat("TRANSACTIONS","/CREATE_SMART_CONTRACT_TRANSACTION"),we="".concat(Ce,"/START"),Oe="".concat(Ce,"/END"),Ne=("".concat(Ce,"/FAILURE"),"".concat(Ce,"/SUCCESS")),_e="".concat("TRANSACTIONS","/FETCH_TRANSACTION"),Se=("".concat(_e,"/START"),"".concat(_e,"/END"),"".concat(_e,"/FAILURE"),"".concat(_e,"/SUCCESS")),je="".concat("TRANSACTIONS","/RESET"),Ae={ETHEREUM:"ethereum",ERC20_THETA:"erc20",THETA:"theta",THETA_FUEL:"tfuel"};function xe(e){return e===Ae.ETHEREUM?"Ethereum":e===Ae.ERC20_THETA?"ERC20 Theta":e===Ae.THETA?"Theta":e===Ae.THETA_FUEL?"TFuel":void 0}var Fe=Ae,Pe=a(11),Ie={isFetchingTransactions:!1,isCreatingTransaction:!1,transactions:[],transactionsByHash:{},pendingTransaction:{},localTransactionsByHash:{},pendingDepositStakeTransaction:null,pendingWithdrawStakeTransaction:null,isFetchingERC20Transactions:!1,isFetchingEthereumTransactions:!1,ethereumNetworkTransactionsByHash:{},ethereumNetworkTransactionsByType:{}};function Be(e,t,a){return z(e)?function(e,t,a){var n=t.tokenType,r=t.from,s=t.to,i=t.amount,o=t.transactionFee;return{hash:a,timestamp:""+(new Date).getTime()/1e3,fee:{theta:"0",tfuel:o},inputs:[{address:r,coins:{theta:n===Fe.THETA?i:0,tfuel:(n===Fe.THETA_FUEL?i:0)+o}}],outputs:[{address:s,coins:{theta:n===Fe.THETA?i:0,tfuel:n===Fe.THETA_FUEL?i:0}}],is_local:!0,bound:"outbound",network:e}}(e,t,a):null}var We="".concat("MODALS","/SHOW_MODAL"),He="".concat("MODALS","/HIDE_MODAL"),De="".concat("MODALS","/HIDE_MODALS"),Me={modals:[]},Le="".concat("STAKES","/FETCH_STAKES"),Ue="".concat(Le,"/START"),Re="".concat(Le,"/END"),Ge=("".concat(Le,"/FAILURE"),"".concat(Le,"/SUCCESS")),Ke="".concat("STAKES","/RESET"),Ve={isFetchingStakes:!1,stakes:[]},Ye="".concat("NODES","/FETCH_GUARDIAN_NODE_DELEGATES"),ze="".concat(Ye,"/START"),qe="".concat(Ye,"/END"),Je=("".concat(Ye,"/FAILURE"),"".concat(Ye,"/SUCCESS")),Xe={isFetchingGuardianNodeDelegates:!1,guardianNodeDelegates:[]},Ze=Object(y.c)({wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object.assign({},e,{network:t.network});case C:return Object.assign({},e,{isFetchingEthereumBalances:!0});case w:return Object.assign({},e,{isFetchingEthereumBalances:!1});case O:var a=t.response.body,n=a.balances;return Object.assign({},e,{ethereumBalances:n,ethereumBalancesByType:W(n.map((function(e){return e.type})),n.map((function(e){return e.value})))});case _:return Object.assign({},e,{isFetchingBalances:!0});case S:return Object.assign({},e,{isFetchingBalances:!1});case j:var r=t.response.body,s=r.balances;return Object.assign({},e,{balances:s,balancesByType:W(s.map((function(e){return e.type})),s.map((function(e){return e.value}))),balancesRefreshedAt:new Date});case A:return Object.assign({},e,{address:t.address});case x:return Q;default:return e}},transactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object.assign({},e,{isFetchingERC20Transactions:!0});case se:return Object.assign({},e,{isFetchingERC20Transactions:!1});case ie:var a=t.response.body,n=a.transactions;return Object.assign({},e,{ethereumNetworkTransactionsByHash:Object.assign({},e.ethereumNetworkTransactionsByHash,W(n.map((function(e){return e.hash})),n)),ethereumNetworkTransactionsByType:Object.assign({},e.ethereumNetworkTransactionsByType,{erc20:n})});case ee:return Object.assign({},e,{isFetchingEthereumTransactions:!0});case te:return Object.assign({},e,{isFetchingEthereumTransactions:!1});case ae:var r=t.response.body,s=r.transactions;return Object.assign({},e,{ethereumNetworkTransactionsByHash:Object.assign({},e.ethereumNetworkTransactionsByHash,W(s.map((function(e){return e.hash})),s)),ethereumNetworkTransactionsByType:Object.assign({},e.ethereumNetworkTransactionsByType,{ethereum:s})});case le:return Object.assign({},e,{isFetchingTransactions:!0});case ce:return Object.assign({},e,{isFetchingTransactions:!1});case ue:var i=t.response.body,o=i.transactions;return o=B.a.filter(o,(function(e){return null!==e.inputs})),Object.assign({},e,{transactionsByHash:Object.assign({},e.transactionsByHash,W(o.map((function(e){return e.hash})),o)),transactions:o});case he:return Object.assign({},e,{isCreatingTransaction:!0,pendingTransaction:t.metadata.txData});case me:return Object.assign({},e,{isCreatingTransaction:!1});case pe:var l=t.response.body,c=l.hash,u=t.metadata.network,d=Be(u,e.pendingTransaction,c);return Object.assign({},e,{localTransactionsByHash:Object.assign({},e.localTransactionsByHash,Object(P.a)({},c,d)),pendingTransaction:null});case ve:return Object.assign({},e,{isCreatingTransaction:!0,pendingDepositStakeTransaction:t.metadata.txData});case ge:return Object.assign({},e,{isCreatingTransaction:!1});case be:return Object.assign({},e,{pendingDepositStakeTransaction:null});case Ee:return Object.assign({},e,{isCreatingTransaction:!0,pendingWithdrawStakeTransaction:t.metadata.txData});case ye:return Object.assign({},e,{isCreatingTransaction:!1});case Te:return Object.assign({},e,{pendingWithdrawStakeTransaction:null});case we:return Object.assign({},e,{isCreatingTransaction:!0});case Oe:return Object.assign({},e,{isCreatingTransaction:!1});case Ne:var h=t.response.body;h.hash,t.metadata.network;return e;case Se:var m=t.metadata,p=t.response.body,f=null,v=p.transactions;if(z(m.network)&&(v=B.a.filter(v,(function(e){return null!==e.inputs}))),v.length>0){f=v[0];var g=Object.assign({},e.transactionsByHash,Object(P.a)({},f.hash,f));return Object.assign({},e,{localTransactionsByHash:B.a.omit(e.localTransactionsByHash,f.hash),transactionsByHash:g,transactions:Object.values(g)})}return e;case je:return Ie;default:return e}},modals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We:var a=t.modal,n=a.type,r=a.props;return Object.assign({},e,{modals:[].concat(Object(b.a)(e.modals),[{type:n,props:r}])});case He:return Object.assign({},e,{modals:e.modals.slice(0,-1)});case De:return Object.assign({},e,{modals:[]});default:return e}},stakes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return Object.assign({},e,{isFetchingStakes:!0});case Re:return Object.assign({},e,{isFetchingStakes:!1});case Ge:var a=t.response.body,n=B.a.get(a,["stakes","sourceRecords"],[]);return Object.assign({},e,{stakes:n});case Ke:return Ve;default:return e}},nodes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze:return Object.assign({},e,{isFetchingGuardianNodeDelegates:!0});case qe:return Object.assign({},e,{isFetchingGuardianNodeDelegates:!1});case Je:var a=t.response.body,n=a;return Object.assign({},e,{guardianNodeDelegates:n});default:return e}}}),Qe=(Object(E.createLogger)(),[k.a,!1].filter((function(e){return B.a.isFunction(e)}))),$e=Object(y.d)(Ze,y.a.apply(void 0,Object(b.a)(Qe))),et=a(10),tt=(a(259),a(260),a(7)),at=a.n(tt),nt=a(13),rt=a(95),st=a(59),it=a.n(st),ot=new it.a("https://mainnet.infura.io/v3/40980e2189924c8abfc5f60dd2e5dc4b"),lt=new ot.eth.Contract([{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function",signature:"0x06fdde03"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x095ea7b3"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x18160ddd"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x23b872dd"},{constant:!0,inputs:[],name:"getController",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function",signature:"0x3018205f"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function",signature:"0x313ce567"},{constant:!1,inputs:[{name:"_newController",type:"address"}],name:"changeController",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x3cebb823"},{constant:!1,inputs:[{name:"_owner",type:"address"},{name:"_amount",type:"uint256"}],name:"mint",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x40c10f19"},{constant:!1,inputs:[{name:"_unlockTime",type:"uint256"}],name:"changeUnlockTime",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x48f1cfdb"},{constant:!0,inputs:[],name:"getUnlockTime",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x602bc62b"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x70a08231"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"allowPrecirculation",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x8ef16d02"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function",signature:"0x95d89b41"},{constant:!0,inputs:[{name:"_addr",type:"address"}],name:"isPrecirculationAllowed",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function",signature:"0x99d84045"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xa9059cbb"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"disallowPrecirculation",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xcc481912"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0xdd62ed3e"},{constant:!0,inputs:[],name:"controller",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function",signature:"0xf77c4791"},{inputs:[{name:"_unlockTime",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event",signature:"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event",signature:"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925"}],"0x3883f5e181fccaF8410FA61e12b59BAd963fb645"),ct=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"getWeb3",value:function(){return ot}},{key:"getTransactionFee",value:function(e,t){try{var a=ot.utils.toWei(e.toString(),"Gwei"),n=t.toString();return ot.utils.fromWei((parseInt(a)*parseInt(n)).toString())}catch(r){return null}}},{key:"unsignedTransaction",value:function(e){var t=e.tokenType,a=e.from,n=e.to,r=e.amount,s=e.gas,i=e.gasPrice,o=ot.utils.toWei(r),l=ot.utils.toWei(i.toString(),"Gwei");return t===Fe.ERC20_THETA?{from:a,to:"0x3883f5e181fccaF8410FA61e12b59BAd963fb645",data:lt.methods.transfer(n,o).encodeABI(),gas:s,gasPrice:l}:t===Fe.ETHEREUM?{from:a,to:n,value:o,gas:s,gasPrice:l}:void 0}},{key:"estimateGas",value:function(){var t=Object(nt.a)(at.a.mark((function t(a){var n,r;return at.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.unsignedTransaction(a),t.next=4,ot.eth.estimateGas(n);case 4:return r=t.sent,t.abrupt("return",r);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getGasPrice",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ot.eth.getGasPrice();case 3:if(!(t=e.sent)){e.next=8;break}return e.abrupt("return",parseInt(ot.utils.fromWei(t,"Gwei"))+1);case 8:return e.abrupt("return",null);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"isAddress",value:function(e){try{return ot.utils.isAddress(e)}catch(t){return!1}}},{key:"signTransaction",value:function(){var t=Object(nt.a)(at.a.mark((function t(a,n){var r,s;return at.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.unsignedTransaction(a),t.next=3,ot.eth.accounts.signTransaction(r,n);case 3:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",s.rawTransaction);case 8:throw new Error("Failed to sign transaction.");case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}]),e}(),ut=a(12),dt=a(21),ht=a.n(dt),mt=a(16),pt=a.n(mt),ft=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"setChainID",value:function(e){this._chainId=e}},{key:"getChainID",value:function(){return this._chainId}},{key:"getTransactionExplorerUrl",value:function(e){var t=this.getChainID();return"".concat(Y[t],"/txs/").concat(e.hash)}},{key:"getAccountExplorerUrl",value:function(e){var t=this.getChainID();return"".concat(Y[t],"/account/").concat(e)}},{key:"getTransactionFee",value:function(){return.3}},{key:"getSmartContractGasPrice",value:function(){return 4e-6}},{key:"unsignedSendTx",value:function(e,t){var a=e.tokenType,n=e.from,r=e.to,s=e.amount,i=e.transactionFee,o=new Pe.BigNumber(10).pow(18),l=a===Fe.THETA?new Pe.BigNumber(s).multipliedBy(o):new Pe.BigNumber(0),c=a===Fe.THETA_FUEL?new Pe.BigNumber(s).multipliedBy(o):new Pe.BigNumber(0),u=new Pe.BigNumber(i).multipliedBy(o),d=n,h=t,m=[{address:r,thetaWei:l,tfuelWei:c}];return new ut.a.SendTx(d,m,u,h)}},{key:"unsignedDepositStakeTx",value:function(e,t){e.tokenType;var a=e.from,n=e.holder,r=e.amount,s=e.transactionFee,i=e.purpose,o=new Pe.BigNumber(10).pow(18),l=new Pe.BigNumber(r).multipliedBy(o),c=new Pe.BigNumber(s).multipliedBy(o),u=a,d=t,h=null;return i===ut.a.StakePurposes.StakeForValidator?h=new ut.a.DepositStakeTx(u,n,l,c,i,d):i===ut.a.StakePurposes.StakeForGuardian?h=new ut.a.DepositStakeV2Tx(u,n,l,c,i,d):i===ut.a.StakePurposes.StakeForEliteEdge&&(h=new ut.a.DepositStakeV2Tx(u,n,l,c,i,d)),h}},{key:"unsignedWithdrawStakeTx",value:function(e,t){e.tokenType;var a=e.from,n=e.holder,r=e.transactionFee,s=e.purpose,i=new Pe.BigNumber(10).pow(18),o=new Pe.BigNumber(r).multipliedBy(i),l=a,c=t;return new ut.a.WithdrawStakeTx(l,n,o,s,c)}},{key:"unsignedSmartContractTx",value:function(e,t){var a=e.from,n=e.to,r=e.data,s=e.value,i=e.transactionFee,o=e.gasLimit,l=new Pe.BigNumber(10).pow(18),c=t,u=new Pe.BigNumber(i).multipliedBy(l);return new ut.a.SmartContractTx(a,n,o,u,r,s,c)}},{key:"isAddress",value:function(e){return ct.isAddress(e)}},{key:"isValidHolderSummary",value:function(e,t){return ut.a.DepositStakeV2Tx.isValidHolderSummary(e,t)}},{key:"signTransaction",value:function(){var t=Object(nt.a)(at.a.mark((function t(a,n){var r,s,i;return at.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.getChainID(),s=ut.a.TxSigner.signAndSerializeTx(r,a,n),!(i=(i=s.toString("hex")).substring(2))){t.next=8;break}return t.abrupt("return",i);case 8:throw new Error("Failed to sign transaction.");case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"prepareTxPayload",value:function(t){var a=e.getChainID(),n=ht.a.encode(pt.a.fromString(a)),r=ht.a.encode(pt.a.fromNumber(t.getType())),s=ht.a.encode(t.rlpInput());return(n+r.slice(2)+s.slice(2)).toString("hex")}}]),e}();ft._chainId=Z.defaultThetaChainID;var vt={Accept:"application/json","Content-Type":"application/json"};function gt(e){var t=e.status;return 200===t||201===t||202===t||204===t}function bt(e){if(!e)return"";var t=Object.keys(e).map((function(t){if(e[t])return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");return t.length>0?"?"+t:""}function kt(e,t,a,n,r){var s=function(e,t){return e.startsWith("http://")||e.startsWith("https://")?e+bt(t):"https://api-wallet.thetatoken.org"+e+bt(t)}(e,n),i={method:t,headers:function(e){return Object.assign(vt,e)}(a)};return r&&(i.body=JSON.stringify(r)),fetch(s,i)}function Et(e,t,a){return kt(e,"GET",t,a)}function yt(e,t,a,n){return kt(e,"POST",t,a,n)}var Tt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"fetchWallet",value:function(e,t){return Et("/wallet/".concat(e),null,t)}},{key:"createTransaction",value:function(e,t){return yt("/tx",null,t,e)}},{key:"fetchTransaction",value:function(e,t){return Et("/tx/".concat(e),null,t)}},{key:"fetchTransactions",value:function(e,t){return Et("/tx/".concat(e,"/list"),null,t)}},{key:"fetchSequence",value:function(e,t){return Et("/sequence/".concat(e),null,t)}},{key:"fetchStakes",value:function(e,t){return Et("/stake/".concat(e,"/list"),null,t)}},{key:"callSmartContract",value:function(e,t){return yt("/smart-contract/call",null,t,e)}},{key:"executeSmartContract",value:function(e,t){return yt("/tx",null,t,e)}},{key:"callFaucet",value:function(e,t){return kt("https://public-faucet.thetatoken.org/tfuel_faucet","GET",null,{address:e.toLowerCase(),chain:t},null)}},{key:"fetchGuardianNodeDelegates",value:function(){return kt("https://api.thetatoken.org/v1/guardian/delegated-nodes","GET",null,null)}}]),e}(),Ct=a(76),wt=a.n(Ct),Ot=new it.a("https://mainnet.infura.io/v3/40980e2189924c8abfc5f60dd2e5dc4b"),Nt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"signTransaction",value:function(){var e=Object(nt.a)(at.a.mark((function e(t){var a,n,r,s,i,o;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ft.prepareTxPayload(t),n={path:Ht.getWalletPath(),transaction:{nonce:Ot.utils.toHex("0"),gasPrice:Ot.utils.toHex("0"),gasLimit:Ot.utils.toHex("0"),to:"0000000000000000000000000000000000000000",value:Ot.utils.toHex("0"),data:a}},e.next=4,wt.a.ethereumSignTransaction(n);case 4:if(!(r=e.sent).payload.error){e.next=7;break}throw r.payload.error;case 7:if(s=r.payload.r+r.payload.s.slice(2)+(parseInt(r.payload.v,16)-27).toString().padStart(2,"0"),t.setSignature(s),i=ut.a.TxSigner.serializeTx(t),!(o=(o=i.toString("hex")).substring(2))){e.next=16;break}return e.abrupt("return",o);case 16:throw new Error("Failed to sign transaction.");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_t=a(91),St=a.n(_t),jt=a(92),At=a.n(jt),xt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"signTransaction",value:function(){var e=Object(nt.a)(at.a.mark((function e(t){var a,n,r,s,i,o,l,c;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ft.getChainID(),n=t.signBytes(a).slice(2),e.next=4,St.a.create();case 4:return r=e.sent,s=new At.a(r),e.next=8,s.signTransaction(Ht.getWalletPath(),n);case 8:if(i=e.sent,o="0x"+i.r+i.s+(parseInt(i.v,16)-27).toString().padStart(2,"0"),t.setSignature(o),l=ut.a.TxSigner.serializeTx(t),!(c=(c=l.toString("hex")).substring(2))){e.next=18;break}return e.abrupt("return",c);case 18:throw new Error("Failed to sign transaction.");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ft=a(114),Pt="keystore-file",It="mnemonic-phrase",Bt="cold-wallet",Wt="private-key",Ht=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"setWallet",value:function(t){this._wallet=t,null===t&&e.setKeystore(null)}},{key:"getWallet",value:function(){return this._wallet}},{key:"setKeystore",value:function(e){this._keystore=e}},{key:"getKeystore",value:function(){return this._keystore}},{key:"getWalletAddress",value:function(){return B.a.get(this._wallet,["address"],null)}},{key:"getWalletPath",value:function(){return B.a.get(this._wallet,["path"],null)}},{key:"getWalletHardware",value:function(){return B.a.get(this._wallet,["hardware"],null)}},{key:"unlocked",value:function(){return null!==this._wallet}},{key:"encryptToKeystore",value:function(e,t){return ct.getWeb3().eth.accounts.encrypt(e,t)}},{key:"decryptFromKeystore",value:function(e,t){return ct.getWeb3().eth.accounts.decrypt(e,t)}},{key:"walletFromMnemonic",value:function(e){return rt.ethers.Wallet.fromMnemonic(e,"m/44'/500'/0'/0/0")}},{key:"walletFromPrivateKey",value:function(e){return ct.getWeb3().eth.accounts.privateKeyToAccount(e)}},{key:"walletFromTrezor",value:function(){var e=Object(nt.a)(at.a.mark((function e(t){var a,n,r;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(wt.a.manifest({email:"support@thetatoken.org",appUrl:"https://wallet.thetatoken.org",keepSession:!0}),a=[],n=0;n<50;n++)a.push({path:"m/44'/60'/0'/0/"+(5*t+n),showOnTrezor:!1});return e.next=5,wt.a.ethereumGetAddress({bundle:a,keepSession:!0});case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"walletFromLedger",value:function(){var e=Object(nt.a)(at.a.mark((function e(t,a){var n,r,s,i,o,l;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.a.create();case 2:n=e.sent,r=new At.a(n),s=[],i=0;case 6:if(!(i<5)){e.next=16;break}return o="","m/44'/60'/0'/0/"===a?o="m/44'/60'/0'/0/"+(5*t+i):"m/44'/60'/0'/"===a?o="m/44'/60'/0'/"+(5*t+i):"m/44'/60'/"===a&&(o="m/44'/60'/"+(5*t+i)+"'/0/0"),e.next=11,r.getAddress(o,!1,!1);case 11:l=e.sent,s.push({address:l.address,serializedPath:o});case 13:i++,e.next=6;break;case 16:return e.abrupt("return",s);case 17:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"createWallet",value:function(e){var t=rt.ethers.utils.HDNode.entropyToMnemonic(rt.ethers.utils.randomBytes(16)),a=this.walletFromMnemonic(t);return{wallet:a,keystore:this.encryptToKeystore(a.privateKey,e)}}},{key:"getHardwareWalletAddresses",value:function(){var t=Object(nt.a)(at.a.mark((function t(a,n,r){var s,i,o;return at.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null,t.prev=1,"trezor"!==a){t.next=9;break}return t.next=5,e.walletFromTrezor(n);case 5:i=t.sent,s=i.payload,t.next=13;break;case 9:if("ledger"!==a){t.next=13;break}return t.next=12,e.walletFromLedger(n,r);case 12:s=t.sent;case 13:return t.abrupt("return",s);case 16:throw t.prev=16,t.t0=t.catch(1),o=null,"trezor"===a?o="No Trezor device attached.":"ledger"===a&&(o="No Ledger device attached."),new Error(o);case 21:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"unlockWallet",value:function(){var t=Object(nt.a)(at.a.mark((function t(a,n,r){var s,i,o,l,c,u,d,h,m;return at.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null,i=r.keystore,o=r.mnemonic,l=r.privateKey,c=r.hardware,u=r.address,d=r.path,t.prev=2,a!==Pt){t.next=8;break}("string"===typeof i||i instanceof String)&&(i=JSON.parse(i)),s=e.decryptFromKeystore(i,n),t.next=24;break;case 8:if(a!==It){t.next=14;break}o=o.toString(),o=B.a.trim(o),s=e.walletFromMnemonic(o.toString()),t.next=24;break;case 14:if(a!==Wt){t.next=23;break}if(!1===(l=B.a.trim(l)).startsWith("0x")&&(l="0x"+l),h=Ft.toBuffer(l),Ft.isValidPrivate(h)){t.next=20;break}throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");case 20:s=e.walletFromPrivateKey(l),t.next=24;break;case 23:a===Bt&&((s={}).address=u);case 24:return s&&(e.setWallet({address:s.address,path:d,hardware:c}),a===Bt||null!==i&&void 0!==i||(i=e.encryptToKeystore(s.privateKey,n)),e.setKeystore(i)),t.abrupt("return",s);case 28:throw t.prev=28,t.t0=t.catch(2),m=null,a===Pt?m="Wrong password OR invalid keystore.":a===It?m="No wallet found for this mnemonic phrase.":a===Wt&&(m="No wallet found for this private key."),new Error(m);case 33:case"end":return t.stop()}}),t,null,[[2,28]])})));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"getThetaTxSequence",value:function(){var e=Object(nt.a)(at.a.mark((function e(t,a){var n,r,s;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.fetchSequence(t,{network:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,s=parseInt(r.sequence)+1,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var t=Object(nt.a)(at.a.mark((function t(a,n,r){var s,i,o;return at.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("trezor"!==(s=e.getWalletHardware())){t.next=5;break}return t.abrupt("return",Nt.signTransaction(n));case 5:if("ledger"!==s){t.next=9;break}return t.abrupt("return",xt.signTransaction(n));case 9:if(i=e.getKeystore(),!(o=e.decryptFromKeystore(i,r))){t.next=15;break}return t.abrupt("return",ft.signTransaction(n,o.privateKey));case 15:throw new Error("Wrong password.  Your transaction could not be signed.");case 16:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"exportKeystore",value:function(t,a){var n=e.getKeystore(),r=e.decryptFromKeystore(n,t);if(r)return e.encryptToKeystore(r.privateKey,a);throw new Error("Wrong password.  Your keystore could not be exported.")}}]),e}();function Dt(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n.onSuccess,s=n.onError;return function(){var n=Object(nt.a)(at.a.mark((function n(i,o){var l,c;return at.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i({type:"".concat(e,"/START"),metadata:a}),n.prev=1,n.next=4,t();case 4:if(!(l=n.sent)){n.next=10;break}return n.next=8,l.json();case 8:c=n.sent,l={status:l.status,body:c};case 10:gt(l)?(i({type:"".concat(e,"/SUCCESS"),response:l,metadata:a}),r&&r(i,l)):(i({type:"".concat(e,"/FAILURE"),response:null,metadata:a}),s&&s(i,l)),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(1),i({type:"".concat(e,"/FAILURE"),response:null,metadata:a}),s&&s(i,null);case 17:return n.prev=17,i({type:"".concat(e,"/END"),metadata:a}),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[1,13,17,20]])})));return function(e,t){return n.apply(this,arguments)}}()}Ht._wallet=null,Ht._keystore=null;var Mt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"getWalletData",value:function(){return this._walletData}},{key:"setWalletData",value:function(e){this._walletData=e}}]),e}();Mt._walletData=null;var Lt=a(77),Ut=a.n(Lt);function Rt(e){return{type:We,modal:e}}function Gt(){return{type:He}}function Kt(){return{type:De}}var Vt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"getRef",value:function(){return this._reactAlertRef}},{key:"_show",value:function(t,a){(0,e.getRef().current[t])(a)}},{key:"showInfo",value:function(e){this._show("info",e)}},{key:"showSuccess",value:function(e){this._show("success",e)}},{key:"showError",value:function(e){this._show("error",e)}}]),e}();Vt._reactAlertRef=s.a.createRef();var Yt="deploy",zt="interact",qt="execute",Jt="call",Xt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"setHistory",value:function(e){this._history=e}},{key:"push",value:function(e){return this._history.push(e)}}]),e}();Xt._history=null;var Zt="An error occurred while sending your transaction. Please wait and try again.";function Qt(e,t){return Dt(_e,(function(){return Tt.fetchTransaction(t,{network:e})}),{network:e})}function $t(){return($t=Object(nt.a)(at.a.mark((function e(t,a,n,r){var s,i,o,l,c,u;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:he,metadata:s={network:a,txData:n}}),e.next=4,Ut.a.set(1e3);case 4:return e.prev=4,i=Ht.getWalletAddress(),e.next=8,Ht.getThetaTxSequence(i,a);case 8:return o=e.sent,l=ft.unsignedSendTx(n,o),e.next=12,Ht.signTransaction(a,l,r);case 12:if(!(c=e.sent)){e.next=17;break}return u=Dt(de,(function(){return Tt.createTransaction({data:c},{network:a})}),s,{onSuccess:function(e,t){Vt.showSuccess("Your transaction is now being processed."),e(Kt())},onError:function(e,t){var a=B.a.get(t,["body","message"],Zt);Vt.showError(a)}}),e.abrupt("return",Promise.resolve(u));case 17:e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(4),t({type:me}),Vt.showError(e.t0.message),e.abrupt("return",Promise.resolve(null));case 24:case"end":return e.stop()}}),e,null,[[4,19]])})))).apply(this,arguments)}function ea(e,t,a){return function(n,r){(function(e,t,a,n){return $t.apply(this,arguments)})(n,e,t,a).then((function(e){e&&n(e)}))}}function ta(){return(ta=Object(nt.a)(at.a.mark((function e(t,a,n,r){var s,i,o,l,c,u;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ve,metadata:s={network:a,txData:n}}),e.next=4,Ut.a.set(1e3);case 4:return e.prev=4,i=Ht.getWalletAddress(),e.next=8,Ht.getThetaTxSequence(i,a);case 8:return o=e.sent,l=ft.unsignedDepositStakeTx(n,o),e.next=12,Ht.signTransaction(a,l,r);case 12:if(!(c=e.sent)){e.next=17;break}return u=Dt(fe,(function(){return Tt.createTransaction({data:c},{network:a})}),s,{onSuccess:function(e,t){Vt.showSuccess("Your transaction is now being processed."),e(Kt())},onError:function(e,t){var a=B.a.get(t,["body","message"],Zt);Vt.showError(a)}}),e.abrupt("return",Promise.resolve(u));case 17:e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(4),t({type:ge}),Vt.showError(e.t0.message),e.abrupt("return",Promise.resolve(null));case 24:case"end":return e.stop()}}),e,null,[[4,19]])})))).apply(this,arguments)}function aa(e,t,a){return function(n,r){(function(e,t,a,n){return ta.apply(this,arguments)})(n,e,t,a).then((function(e){e&&n(e)}))}}function na(){return(na=Object(nt.a)(at.a.mark((function e(t,a,n,r){var s,i,o,l,c,u;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Ee,metadata:s={network:a,txData:n}}),e.next=4,Ut.a.set(1e3);case 4:return e.prev=4,i=Ht.getWalletAddress(),e.next=8,Ht.getThetaTxSequence(i,a);case 8:return o=e.sent,l=ft.unsignedWithdrawStakeTx(n,o),e.next=12,Ht.signTransaction(a,l,r);case 12:if(!(c=e.sent)){e.next=17;break}return u=Dt(ke,(function(){return Tt.createTransaction({data:c},{network:a})}),s,{onSuccess:function(e,t){Vt.showSuccess("Your transaction is now being processed."),e(Kt())},onError:function(e,t){var a=B.a.get(t,["body","message"],Zt);Vt.showError(a)}}),e.abrupt("return",Promise.resolve(u));case 17:e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(4),t({type:ye}),Vt.showError(e.t0.message),e.abrupt("return",Promise.resolve(null));case 24:case"end":return e.stop()}}),e,null,[[4,19]])})))).apply(this,arguments)}function ra(e,t,a){return function(n,r){(function(e,t,a,n){return na.apply(this,arguments)})(n,e,t,a).then((function(e){e&&n(e)}))}}function sa(){return(sa=Object(nt.a)(at.a.mark((function e(t,a,n,r,s,i){var o,l,c,u,d,h,m,p,f,v;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={network:a,contractMode:n,txData:s},console.log("createSmartContractTransactionAsync :: txData == "),console.log(s),t({type:we,metadata:o}),e.next=6,Ut.a.set(1e3);case 6:return e.prev=6,l=Ht.getWalletAddress(),e.next=10,Ht.getThetaTxSequence(l,a);case 10:return c=e.sent,u=ft.unsignedSmartContractTx(s,c),d=ut.a.TxSigner.serializeTx(u),h=d.toString("hex").slice(2),e.next=16,Ht.signTransaction(a,u,i);case 16:if(m=e.sent,console.log("createSmartContractTransactionAsync :: rawTxHex = "+h),!m){e.next=32;break}if(p=null,n!==Yt){e.next=29;break}return e.next=23,Tt.callSmartContract({data:h},{network:a});case 23:return f=e.sent,e.next=26,f.json();case 26:p=e.sent,console.log("dryRunResponseJSON == "),console.log(p);case 29:return v=Dt(Ce,(function(){if(n===Yt||n===qt)return Tt.executeSmartContract({data:m},{network:a})}),o,{onSuccess:function(e,t){if(n===Yt){Vt.showSuccess("Your smart contract has been deployed."),console.log("contractAbi == "),console.log(r);var a=B.a.get(p,["result","contract_address"]),s=btoa(r);Xt.push("/wallet/contract/interact?address=".concat(a,"&abi=").concat(s))}else Vt.showSuccess("Your transaction is now being processed.");e(Kt())},onError:function(e,t){var a=B.a.get(t,["body","message"],"Your transaction failed.");Vt.showError(a)}}),e.abrupt("return",Promise.resolve(v));case 32:e.next=39;break;case 34:return e.prev=34,e.t0=e.catch(6),t({type:Oe}),Vt.showError(e.t0.message),e.abrupt("return",Promise.resolve(null));case 39:case"end":return e.stop()}}),e,null,[[6,34]])})))).apply(this,arguments)}function ia(e,t,a,n,r){return function(s,i){(function(e,t,a,n,r,s){return sa.apply(this,arguments)})(s,e,t,a,n,r).then((function(e){e&&s(e)}))}}var oa="receive",la="send",ca="send-confirmation",ua="private-key",da="cold-wallet-selector",ha="deposit-stake",ma="deposit-stake-confirmation",pa="withdraw-stake",fa="withdraw-stake-confirmation",va="smart-contract-confrimation",ga="network-selector",ba="guardian-node-delegate-selector";function ka(e,t,a){return function(){var n=Object(nt.a)(at.a.mark((function n(r,s){var i;return at.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=null,n.prev=1,n.next=4,Ht.unlockWallet(e,t,a);case 4:i=n.sent,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),Vt.showError(n.t0.message);case 10:i&&(r((s=i.address,{type:A,address:s})),L()?Xt.push("/wallet"):Xt.push("/offline"));case 11:case"end":return n.stop()}var s}),n,null,[[1,7]])})));return function(e,t){return n.apply(this,arguments)}}()}var Ea=a(28),ya=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).onNetworkBadgeClick=function(){Ht.getWalletAddress()?alert("You cannot change networks while a wallet is unlocked."):$e.dispatch(Rt({type:ga}))},e.logout=e.logout.bind(Object(et.a)(e)),e.copyAddress=e.copyAddress.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(){$e.dispatch(function(){var e=Object(nt.a)(at.a.mark((function e(t,a){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ht.setWallet(null),ft.setChainID(Z.defaultThetaChainID),Mt.setWalletData(null),t({type:x}),t({type:je}),Xt.push("/unlock");case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}},{key:"copyAddress",value:function(){M(Ht.getWalletAddress()),Vt.showSuccess("Your address has been copied")}},{key:"renderAccountIfNeeded",value:function(){var e=Ht.getWalletAddress();return e?s.a.createElement("div",{className:"NavBar__account"},s.a.createElement("div",{className:"NavBar__wallet"},s.a.createElement("div",{className:"NavBar__wallet-title"},"My Wallet:"),s.a.createElement("div",{className:"NavBar__wallet-address"},e),s.a.createElement("a",{className:"NavBar__wallet-copy-address-icon",onClick:this.copyAddress},s.a.createElement("img",{src:"/img/icons/copy@2x.png"}))),s.a.createElement("a",{className:"NavBar__logout",onClick:this.logout},"Log out")):null}},{key:"render",value:function(){var e=this.props.network,t=Ht.getWalletAddress();return s.a.createElement("div",{className:Ea("NavBar",{"NavBar--is-centered":this.props.centered})},s.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},s.a.createElement("img",{className:"NavBar__logo",src:"/img/logo/theta_wallet_logo@2x.png"}),s.a.createElement("a",{className:Ea("NavBar__network-badge",{"NavBar__network-badge--is-disabled":!B.a.isNil(t)}),onClick:this.onNetworkBadgeClick},q(e))),this.renderAccountIfNeeded())}}]),t}(s.a.Component),Ta=Object(g.b)((function(e,t){return{network:e.wallet.network}}))(ya),Ca=(a(511),a(28)),wa=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=Ca("TabBar",(e={},Object(P.a)(e,this.props.className,!0),Object(P.a)(e,"TabBar--is-centered",this.props.centered),Object(P.a)(e,"TabBar--is-condensed",this.props.condensed),e));return s.a.createElement("div",{className:t,style:this.props.style},this.props.children)}}]),t}(s.a.Component),Oa=(a(512),a(612)),Na=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.href?s.a.createElement(Oa.a,{to:this.props.href,className:"TabBarItem",activeClassName:"TabBarItem--is-active",onClick:this.props.onClick},this.props.normalIconUrl&&s.a.createElement("img",{className:"TabBarItem__icon",alt:this.props.title,src:this.props.normalIconUrl}),this.props.activeIconUrl&&s.a.createElement("img",{className:"TabBarItem__icon-active",alt:this.props.title,src:this.props.activeIconUrl}),s.a.createElement("div",{className:"TabBarItem__title"},this.props.title)):s.a.createElement("a",{className:"TabBarItem",href:this.props.href,target:this.props.target,onClick:this.props.onClick},s.a.createElement("img",{className:"TabBarItem__icon",alt:this.props.title,src:this.props.normalIconUrl}),s.a.createElement("div",{className:"TabBarItem__title"},this.props.title))}}]),t}(s.a.Component),_a=(a(514),a(515),a(516),a(517),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="-";if(!B.a.isNil(this.props.tokenBalance)){var t=this.props.tokenBalance||"0";e=R(new Pe.BigNumber(t).toString())}return s.a.createElement(Oa.a,{to:this.props.token.href,className:"WalletTokenListItem",activeClassName:"WalletTokenListItem--is-active"},s.a.createElement("div",{className:"WalletTokenListItem__token-container"},s.a.createElement("div",{className:"WalletTokenListItem__active-indicator"}),s.a.createElement("img",{src:this.props.token.iconUrl,className:"WalletTokenListItem__token-icon"}),s.a.createElement("div",{className:"WalletTokenListItem__token-balance-container"},s.a.createElement("div",{className:"WalletTokenListItem__token-name"},this.props.token.name),s.a.createElement("div",{className:"WalletTokenListItem__token-balance"},e))))}}]),t}(s.a.Component)),Sa=a(60),ja=a.n(Sa),Aa=[{type:Fe.THETA,name:xe(Fe.THETA),iconUrl:"/img/tokens/".concat(Fe.THETA,"_large@2x.png"),href:"/wallet/tokens/"+Fe.THETA},{type:Fe.THETA_FUEL,name:xe(Fe.THETA_FUEL),iconUrl:"/img/tokens/".concat(Fe.THETA_FUEL,"_large@2x.png"),href:"/wallet/tokens/"+Fe.THETA_FUEL}],xa=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).call(this))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.balancesRefreshedAt,t=Ht.getWalletAddress(),a=Aa,n=this.props.balancesByType,r=a.map((function(e){var t=n[e.type];return s.a.createElement(_a,{token:e,tokenBalance:t,key:e.type})}));return s.a.createElement("div",{className:"WalletTokenList"},r,B.a.isNil(e)&&s.a.createElement("div",{className:"WalletTokenList__refreshed-message"},"Loading balances..."),!B.a.isNil(e)&&s.a.createElement("div",{className:"WalletTokenList__refreshed-message"},"Balances refreshed ".concat(ja()(e).fromNow())),s.a.createElement("a",{className:"WalletTokenList__explorer-link",href:ft.getAccountExplorerUrl(t),target:"_blank",rel:"noopener noreferrer"},"View Account on Explorer"))}}]),t}(s.a.Component),Fa=(a(518),a(28)),Pa=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=Fa("PageHeader",(e={},Object(P.a)(e,this.props.className,!0),Object(P.a)(e,"PageHeader--is-sticky",this.props.sticky),e));return s.a.createElement("div",{className:t},this.props.title&&s.a.createElement("div",{className:"PageHeader__title"},this.props.title),this.props.children)}}]),t}(s.a.Component),Ia=(a(519),a(520),a(521),a(28)),Ba=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.bound,a=e.isLocal,n="inbound"===t,r=null;r=n?"Received":a?"Sent - Processing":"Sent";var i=Ia("TransactionStatus",{"TransactionStatus--is-inbound":n});return s.a.createElement("div",{className:i},s.a.createElement("div",{className:"TransactionStatus__dot"}),s.a.createElement("div",{className:"TransactionStatus__text"},r))}}]),t}(s.a.PureComponent),Wa=(a(522),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"ERC20Badge"},s.a.createElement("div",{className:"ERC20Badge__text"},"ERC-20"))}}]),t}(s.a.PureComponent)),Ha=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.transaction,t=e.from,a=e.to,n=e.token_symbol,r=e.dec_value,i=e.type,o=e.time_stamp,l=e.bound,c=e.is_local,u="inbound"===l,d="/img/tokens/".concat(i,"_small@2x.png"),h="https://etherscan.io/tx/".concat(e.hash);return t=U(t,23,"..."),a=U(a,23,"..."),s.a.createElement("a",{className:"EthereumTransactionListItem",href:h,target:"_blank"},s.a.createElement("div",{className:"EthereumTransactionListItem__top-container"},s.a.createElement(Ba,{bound:l,isLocal:c}),"erc20"===i&&s.a.createElement(Wa,null)),s.a.createElement("div",{className:"EthereumTransactionListItem__middle-container"},s.a.createElement("div",{className:"EthereumTransactionListItem__address-container"},s.a.createElement("div",{className:"EthereumTransactionListItem__address-prefix"},u?"FROM:":"TO:"),s.a.createElement("div",{className:"EthereumTransactionListItem__address"},u?t:a)),s.a.createElement("div",{className:"EthereumTransactionListItem__amount-container"},s.a.createElement("div",{className:"EthereumTransactionListItem__amount"},r))),s.a.createElement("div",{className:"EthereumTransactionListItem__bottom-container"},s.a.createElement("div",{className:"EthereumTransactionListItem__date"},ja.a.unix(o).fromNow()),s.a.createElement("div",{className:"EthereumTransactionListItem__token-container"},s.a.createElement("div",{className:"EthereumTransactionListItem__token-symbol"},n),d&&s.a.createElement("img",{src:d,className:"EthereumTransactionListItem__token-icon"}))))}}]),t}(s.a.Component),Da=(a(523),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.transaction,t=e.inputs,a=e.outputs,n=e.timestamp,r=e.bound,i=(e.hash,e.is_local),o=t?t[0]:null,l=a?a[0]:null,c=B.a.get(o,["address"]),u=B.a.get(l,["address"]),d="inbound"===r,h=ft.getTransactionExplorerUrl(e);c=U(c,23,"..."),u=U(u,23,"...");var m=B.a.get(l,["coins","theta"]),p=B.a.get(l,["coins","tfuel"]);return s.a.createElement("a",{className:"ThetaTransactionListItem",href:h,target:"_blank"},s.a.createElement("div",{className:"ThetaTransactionListItem__left-container"},s.a.createElement("div",{className:"ThetaTransactionListItem__top-container"},s.a.createElement(Ba,{bound:r,isLocal:i})),s.a.createElement("div",{className:"ThetaTransactionListItem__middle-container"},s.a.createElement("div",{className:"ThetaTransactionListItem__address-container"},s.a.createElement("div",{className:"ThetaTransactionListItem__address-prefix"},d?"FROM:":"TO:"),s.a.createElement("div",{className:"ThetaTransactionListItem__address"},d?c:u))),s.a.createElement("div",{className:"ThetaTransactionListItem__bottom-container"},s.a.createElement("div",{className:"ThetaTransactionListItem__date"},ja.a.unix(n).fromNow()))),s.a.createElement("div",{className:"ThetaTransactionListItem__right-container"},s.a.createElement("div",{className:"ThetaTransactionListItem__amount-container"},s.a.createElement("div",{className:"ThetaTransactionListItem__amount"},R(m)),s.a.createElement("img",{className:"ThetaTransactionListItem__amount-icon",src:"/img/tokens/theta_large@2x.png"})),s.a.createElement("div",{className:"ThetaTransactionListItem__amount-container"},s.a.createElement("div",{className:"ThetaTransactionListItem__amount"},R(p)),s.a.createElement("img",{className:"ThetaTransactionListItem__amount-icon",src:"/img/tokens/tfuel_large@2x.png"}))))}}]),t}(s.a.Component)),Ma=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"createList",value:function(){return this.props.transactions.map((function(e,t){return e.timestamp?s.a.createElement(Da,{key:e.hash,transaction:e}):s.a.createElement(Ha,{key:e.hash,transaction:e})}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"TransactionList"},this.createList())}}]),t}(s.a.Component),La=a(96),Ua=function(e){return e.transactions.localTransactionsByHash},Ra=function(e){return e.transactions.ethereumNetworkTransactionsByType},Ga=function(e){return Ht.getWalletAddress()};function Ka(e,t){var a=t.outputs;a=function(e,t){return B.a.sortBy(t,[function(t){return t.address===e?-1:0}])}(e,a);var n;return B.a.isNil(a)?null:(n=a[0].address,Object.assign({},t,{bound:e===n?"inbound":"outbound",outputs:a}))}function Va(e,t){return Object.assign({},t,{bound:e===t.to?"inbound":"outbound"})}function Ya(e,t,a,n){e=e?e.toLowerCase():null;var r=a[t],s=B.a.partial(Va,e),i=B()(r).sortBy((function(e){return parseInt(e.time_stamp)})).reverse().map(s).value(),o=new Set(B.a.map(i,(function(e){return e.hash}))),l=B.a.filter(Object.values(n),(function(e){return!o.has(e.hash)&&e.type===t})),c=B.a.flatten([l,i]);return B.a.uniqBy(c,"hash")}var za=Object(La.a)([Ga,Ra,Ua],(function(e,t,a){return Ya(e,Fe.ERC20_THETA,t,a)})),qa=Object(La.a)([Ga,Ra,Ua],(function(e,t,a){return Ya(e,Fe.ETHEREUM,t,a)})),Ja=Object(La.a)([Ga,function(e){return e.transactions.transactions},Ua],(function(e,t,a){return function(e,t,a){e=e?e.toLowerCase():null;var n=B.a.negate(B.a.isNil),r=B.a.partial(Ka,e),s=B()(t).map(r).filter(n).sortBy((function(e){return parseInt(e.timestamp)})).reverse().value(),i=new Set(B.a.map(s,(function(e){return e.hash}))),o=B.a.filter(Object.values(a),(function(e){return!i.has(e.hash)})),l=B.a.flatten([o,s]);return B.a.uniqBy(l,"hash")}(e,t,a)})),Xa=(a(524),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"EmptyState"},this.props.icon&&s.a.createElement("img",{className:"EmptyState__icon",src:this.props.icon}),s.a.createElement("div",{className:"EmptyState__title"},this.props.title))}}]),t}(s.a.PureComponent)),Za=a(34),Qa=a.n(Za),$a=(a(559),a(28)),en=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this.props.iconUrl&&s.a.createElement("img",{className:"GhostButton__icon",src:this.props.iconUrl}),a=null,n=$a("GhostButton",(e={},Object(P.a)(e,this.props.className,!0),Object(P.a)(e,"GhostButton--is-disabled",this.props.disabled),e));return a=this.props.loading?s.a.createElement(Qa.a,{singleColor:"#ffffff",size:16,className:"GhostButton__spinner"}):s.a.createElement(r.Fragment,null,t,s.a.createElement("div",{className:"GhostButton__title"},this.props.title)),s.a.createElement("a",{className:n,href:this.props.href,target:this.props.target,onClick:this.props.onClick,style:this.props.style},a)}}]),t}(s.a.Component),tn=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).pollWalletBalancesIntervalId=null,e.fetchBalances=e.fetchBalances.bind(Object(et.a)(e)),e.handleSendClick=e.handleSendClick.bind(Object(et.a)(e)),e.handleReceiveClick=e.handleReceiveClick.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"fetchTransactions",value:function(e){e!==Fe.THETA&&e!==Fe.THETA_FUEL||this.props.dispatch(function(){var e=Ht.getWalletAddress();return Dt(oe,(function(){return Tt.fetchTransactions(e,{network:ft.getChainID()})}))}())}},{key:"fetchBalances",value:function(){this.props.dispatch(function(){var e=Ht.getWalletAddress();return Dt(N,(function(){return Tt.fetchWallet(e,{network:ft.getChainID()})}))}())}},{key:"startPollingWalletBalances",value:function(){this.fetchBalances(),this.pollWalletBalancesIntervalId=setInterval(this.fetchBalances,15e3)}},{key:"stopPollingWalletBalances",value:function(){this.pollWalletBalancesIntervalId&&clearInterval(this.pollWalletBalancesIntervalId)}},{key:"handleSendClick",value:function(){this.props.dispatch(Rt({type:la,props:{tokenType:this.props.match.params.tokenType}}))}},{key:"handleReceiveClick",value:function(){this.props.dispatch(Rt({type:oa}))}},{key:"componentDidMount",value:function(){var e=this.props.match.params.tokenType;this.startPollingWalletBalances(),this.fetchTransactions(e)}},{key:"componentWillUnmount",value:function(){this.stopPollingWalletBalances()}},{key:"componentWillReceiveProps",value:function(e){var t=e.match.params.tokenType;this.props.match.params.tokenType!==t&&this.fetchTransactions(t)}},{key:"render",value:function(){var e=this.props,t=e.isFetchingBalances,a=e.balancesByType,n=e.balancesRefreshedAt;return s.a.createElement("div",{className:"WalletPage"},s.a.createElement("div",{className:"WalletPage__master-view"},t&&B.a.isEmpty(a)&&s.a.createElement(Qa.a,{singleColor:"#ffffff",className:"WalletPage__master-view-spinner",size:20}),s.a.createElement(xa,{balancesByType:this.props.balancesByType,balancesRefreshedAt:n})),s.a.createElement("div",{className:"WalletPage__detail-view"},s.a.createElement(Pa,{title:"Transactions",sticky:!0},s.a.createElement("div",{className:"WalletPage__header-buttons"},s.a.createElement(en,{title:"Send",iconUrl:"/img/icons/send@2x.png",onClick:this.handleSendClick}),s.a.createElement(en,{title:"Receive",iconUrl:"/img/icons/receive@2x.png",style:{marginLeft:12},onClick:this.handleReceiveClick}))),this.props.isLoadingTransactions&&s.a.createElement(Qa.a,{singleColor:"#ffffff",className:"WalletPage__detail-view-spinner"}),this.props.transactions.length>0&&s.a.createElement(Ma,{transactions:this.props.transactions}),0===this.props.transactions.length&&!1===this.props.isLoadingTransactions&&s.a.createElement(Xa,{icon:"/img/icons/empty-transactions@2x.png",title:"No Transactions"})))}}]),t}(s.a.Component),an=Object(g.b)((function(e,t){var a=t.match.params.tokenType,n=e.transactions.localTransactionsByHash||{},r=[],s=!1;return a===Fe.ERC20_THETA?(r=za(e),s=e.transactions.isFetchingERC20Transactions):a===Fe.ETHEREUM?(r=qa(e),s=e.transactions.isFetchingEthereumTransactions):a!==Fe.THETA&&a!==Fe.THETA_FUEL||(r=Ja(e),s=e.transactions.isFetchingTransactions),{balancesByType:Object.assign({},e.wallet.balancesByType,e.wallet.ethereumBalancesByType),localTransactionsAmount:Object.keys(n).length,transactions:r,isLoadingTransactions:s,isFetchingBalances:e.wallet.isFetchingBalances,balancesRefreshedAt:e.wallet.balancesRefreshedAt}}))(tn),nn=(a(560),a(561),a(128)),rn=a(28),sn=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=null,a=rn("GradientButton",(e={},Object(P.a)(e,this.props.className,!0),Object(P.a)(e,"GradientButton--is-disabled",this.props.disabled),e));return t=this.props.loading?s.a.createElement(Qa.a,{singleColor:"#ffffff"}):s.a.createElement("div",{className:"GradientButton__title"},this.props.title),this.props.href?s.a.createElement(nn.a,{to:this.props.href,style:this.props.style,className:a,onClick:this.props.onClick},t):s.a.createElement("a",{className:a,style:this.props.style,onClick:this.props.onClick},t)}}]),t}(s.a.Component),on=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).defaultState={currentPassword:"",password:"",passwordConfirmation:"",loading:!1,error:null},e.state=e.defaultState,e.handleChange=e.handleChange.bind(Object(et.a)(e)),e.prepareForExport=e.prepareForExport.bind(Object(et.a)(e)),e.exportKeystore=e.exportKeystore.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"validate",value:function(){this.state.password.length>0&&this.state.passwordConfirmation.length>0&&this.state.password!==this.state.passwordConfirmation?this.setState({error:"Your passwords do not match"}):this.setState({error:""})}},{key:"isValid",value:function(){return this.state.password.length>0&&this.state.passwordConfirmation.length>0&&this.state.password===this.state.passwordConfirmation}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(P.a)({},t,a),this.validate)}},{key:"exportKeystore",value:function(){try{var e=Ht.exportKeystore(this.state.currentPassword,this.state.password);D(e.address+".keystore",JSON.stringify(e)),this.setState(this.defaultState)}catch(t){this.setState({loading:!1}),Vt.showError(t.message)}}},{key:"prepareForExport",value:function(){this.setState({loading:!0}),setTimeout(this.exportKeystore,1e3)}},{key:"render",value:function(){return s.a.createElement("div",{className:"ExportKeystoreContent"},s.a.createElement("div",{className:"InputTitle"},"Current Password"),s.a.createElement("input",{className:"RoundedInput",placeholder:"Enter current password",name:"currentPassword",type:"password",value:this.state.currentPassword,onChange:this.handleChange}),s.a.createElement("div",{className:"InputTitle"},"New Password"),s.a.createElement("input",{className:"RoundedInput",placeholder:"Set a New Password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange}),s.a.createElement("div",{className:"InputTitle"},"Confirm New Password"),s.a.createElement("input",{className:"RoundedInput",placeholder:"Re-enter Password",name:"passwordConfirmation",type:"password",value:this.state.passwordConfirmation,onChange:this.handleChange}),s.a.createElement("div",{className:"InputError"},this.state.error),s.a.createElement(sn,{title:"Export Keystore",onClick:this.prepareForExport,style:{marginTop:15},loading:this.state.loading,disabled:this.state.loading||!1===this.isValid()}))}}]),t}(s.a.Component),ln=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"SettingsSection"},s.a.createElement("div",{className:"SettingsSection__title"},this.props.title),s.a.createElement("div",{className:"SettingsSection__content"},this.props.children))}}]),t}(s.a.Component),cn=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=B.a.isNil(Ht.getWallet().hardware);return s.a.createElement("div",{className:"SettingsPage"},s.a.createElement("div",{className:"SettingsPage__detail-view"},s.a.createElement(Pa,{title:"Settings",sticky:!0}),e&&s.a.createElement(ln,{title:"Export Keystore"},s.a.createElement(on,null))))}}]),t}(s.a.Component),un=(a(562),[{title:"How to swap from ERC20 Theta to Mainnet Theta",description:"This wallet functions as a Theta ERC20 wallet today. When Mainnet launches in March 2019, the wallet will automatically switch to work as a THETA Mainnet wallet."},{title:"Create a Wallet and transfer ERC20 Theta In",description:"Create your wallet and transfer your ERC20 Theta in. You can now use this wallet as a fully functional ERC20 Theta wallet."},{title:"After launch, use the wallet to transact on Mainnet",description:"Once the snapshot is taken of ERC20 Theta and the mainnet is launched, the wallet will have the same balance, but all transactions will be on the Mainnet. No action is needed from you for this swap."}]),dn=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=parseInt(this.props.match.params.onboardingStep),t="/img/onboarding/"+e+"@2x.png",a=un[e],n=a.title,r=a.description,i=null;return i=e===un.length-1?s.a.createElement(s.a.Fragment,null,s.a.createElement(sn,{title:"Create Wallet",href:"/create-wallet"}),s.a.createElement(nn.a,{to:"/restore-wallet",className:"OnboardingPage__restore-button"},"Restore Wallet")):s.a.createElement(sn,{title:"Next",href:"/onboarding/"+(e+1)}),s.a.createElement("div",{className:"OnboardingPage"},s.a.createElement("div",{className:"OnboardingPage__wrapper"},s.a.createElement("div",{className:"OnboardingPage__title"},n),s.a.createElement("img",{src:t,className:"OnboardingPage__image"}),s.a.createElement("div",{className:"OnboardingPage__description"},r),s.a.createElement("div",{className:"OnboardingPage__footer"},i)))}}]),t}(s.a.Component),hn=(a(563),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"WalletCreationCompleteCard"},s.a.createElement("div",{className:"WalletCreationCompleteCard__content"},s.a.createElement("div",{className:"WalletCreationCompleteCard__header"}),s.a.createElement("div",{className:"WalletCreationCompleteCard__success"},s.a.createElement("img",{className:"WalletCreationCompleteCard__icon",src:"/img/icons/wallet-success@2x.png"}),s.a.createElement("div",{className:"WalletCreationCompleteCard__success-title"},"You're ready!"),s.a.createElement("div",{className:"WalletCreationCompleteCard__success-body"},"You are now ready to use your new Theta wallet.")),s.a.createElement("div",{className:"WalletCreationCompleteCard__footer"},s.a.createElement(sn,{title:"Unlock Wallet",href:"/unlock"}))))}}]),t}(s.a.Component)),mn=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).showPrivateKey=e.showPrivateKey.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"showPrivateKey",value:function(){$e.dispatch(Rt({type:ua,props:{privateKey:this.props.wallet.privateKey}}))}},{key:"render",value:function(){var e=this.props.wallet,t=e.mnemonic;e.privateKey;return s.a.createElement("div",{className:"MnemonicCard"},s.a.createElement("div",{className:"MnemonicCard__content"},s.a.createElement("div",{className:"MnemonicCard__header"},s.a.createElement("div",{className:"MnemonicCard__title"},"Mnemonic Phrase"),s.a.createElement("div",{className:"MnemonicWarningCard__subtitle"},"12 words which allow you to recover your wallet.")),s.a.createElement("div",{className:"MnemonicCard__body"},s.a.createElement("div",{className:"MnemonicCard__instructions"},"Back up the text below on paper and keep it somewhere secret and safe. It will not be shown again."),s.a.createElement("div",{className:"MnemonicCard__phrase-container"},s.a.createElement("p",null,t)),s.a.createElement("a",{className:"MnemonicCard__view-private-key",onClick:this.showPrivateKey},"View my Private Key")),s.a.createElement("div",{className:"MnemonicCard__footer"},s.a.createElement(sn,{title:"Continue",onClick:this.props.onContinue}))))}}]),t}(s.a.Component),pn=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"MnemonicWarningCard"},s.a.createElement("div",{className:"MnemonicWarningCard__content"},s.a.createElement("div",{className:"MnemonicWarningCard__header"},s.a.createElement("div",{className:"MnemonicWarningCard__title"},"Mnemonic Phrase"),s.a.createElement("div",{className:"MnemonicWarningCard__subtitle"},"12 words which allow you to recover your wallet.")),s.a.createElement("img",{className:"MnemonicWarningCard__icon",src:"/img/icons/word-blocks@2x.png"}),s.a.createElement("div",{className:"MnemonicWarningCard__warning"},s.a.createElement("div",{className:"MnemonicWarningCard__warning-title"},"Warning!"),s.a.createElement("div",{className:"MnemonicWarningCard__warning-body"},"We are about to show your Mnemonic phrase. Please ensure no one can see your screen before you continue.")),s.a.createElement("div",{className:"MnemonicWarningCard__footer"},s.a.createElement(sn,{title:"Continue",onClick:this.props.onContinue}))))}}]),t}(s.a.Component),fn=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={password:"",passwordConfirmation:"",agreedToTerms:!1},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a="password"===e.target.type?e.target.value:e.target.checked;this.setState(Object(P.a)({},t,a),this.validate)}},{key:"createWallet",value:function(){var e=this,t=Ht.createWallet(this.state.password);t&&(Mt.setWalletData(t),D(t.wallet.address+".keystore",JSON.stringify(t.keystore)),setTimeout((function(){e.setState({loading:!1}),e.props.onContinue()}),500))}},{key:"prepareForWalletCreation",value:function(){var e=this;this.setState({loading:!0}),setTimeout((function(){e.createWallet()}),1e3)}},{key:"isValid",value:function(){return!0===this.state.agreedToTerms&&this.state.password.length>0&&this.state.password===this.state.passwordConfirmation}},{key:"validate",value:function(){this.state.password.length>0&&this.state.passwordConfirmation.length>0&&this.state.password!==this.state.passwordConfirmation?this.setState({error:"Your passwords do not match"}):this.setState({error:""})}},{key:"render",value:function(){return s.a.createElement("div",{className:"ChoosePasswordCard"},s.a.createElement("div",{className:"ChoosePasswordCard__content"},s.a.createElement("div",{className:"ChoosePasswordCard__header"},s.a.createElement("div",{className:"ChoosePasswordCard__title"},"Create Keystore"),s.a.createElement("div",{className:"ChoosePasswordCard__subtitle"},"This password will encrypt your private key.")),s.a.createElement("div",{className:"ChoosePasswordCard__inputs"},s.a.createElement("input",{className:"ChoosePasswordCard__password-input",placeholder:"Set a New Password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange.bind(this)}),s.a.createElement("input",{className:"ChoosePasswordCard__password-input",placeholder:"Re-enter Password",name:"passwordConfirmation",type:"password",value:this.state.passwordConfirmation,onChange:this.handleChange.bind(this)})),s.a.createElement("div",{className:"ChoosePasswordCard__error"},this.state.error),s.a.createElement("div",{className:"ChoosePasswordCard__message-wrapper"},s.a.createElement("input",{id:"agreedToTerms",type:"checkbox",name:"agreedToTerms",checked:this.state.agreedToTerms,onChange:this.handleChange.bind(this)}),s.a.createElement("label",{className:"ChoosePasswordCard__message",htmlFor:"agreedToTerms"},s.a.createElement("span",null,"I understand that Theta cannot recover or reset my password or the keystore file. I will make a backup of the keystore file / password, keep them secret, complete all wallet creation steps."))),s.a.createElement("div",{className:"ChoosePasswordCard__footer"},s.a.createElement(sn,{title:"Download Keystore",onClick:this.prepareForWalletCreation.bind(this),loading:this.state.loading,disabled:this.state.loading||!1===this.isValid()}))))}}]),t}(s.a.Component),vn=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={currentStep:0},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"continue",value:function(){this.setState({currentStep:this.state.currentStep+1})}},{key:"render",value:function(){var e=Mt.getWalletData(),t=null,a=null,n=3===this.state.currentStep?"":"Create New Wallet";return 0===this.state.currentStep?t=s.a.createElement(fn,{onContinue:this.continue.bind(this)}):1===this.state.currentStep?t=s.a.createElement(pn,{onContinue:this.continue.bind(this)}):2===this.state.currentStep?t=s.a.createElement(mn,{onContinue:this.continue.bind(this),wallet:e.wallet}):3===this.state.currentStep&&(t=s.a.createElement(hn,{onContinue:this.continue.bind(this)})),3!==this.state.currentStep&&(a=s.a.createElement("div",{className:"CreateWalletPage__subtitle"},s.a.createElement("span",null,"Already have a wallet?"),s.a.createElement(nn.a,{to:"/unlock"},"Unlock Wallet"))),s.a.createElement("div",{className:"CreateWalletPage"},s.a.createElement("div",{className:"CreateWalletPage__wrapper"},s.a.createElement("div",{className:"CreateWalletPage__title"},n),t,a))}}]),t}(s.a.Component),gn=(a(564),a(565),a(28)),bn=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this.props.iconUrl&&s.a.createElement("img",{className:"HardwareOptionButton__icon",src:this.props.iconUrl}),a=gn("HardwareOptionButton",(e={},Object(P.a)(e,this.props.className,!0),Object(P.a)(e,"HardwareOptionButton--is-selected",this.props.isSelected),Object(P.a)(e,"HardwareOptionButton--is-disabled",this.props.disabled),e));return s.a.createElement("a",{className:a,href:this.props.href,target:this.props.target,onClick:this.props.onClick,style:this.props.style},t,s.a.createElement("div",{className:"HardwareOptionButton__title"},this.props.title))}}]),t}(s.a.Component),kn=(a(566),a(28)),En=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={active:!1},e.handleDragOver=e.handleDragOver.bind(Object(et.a)(e)),e.handleDragEnter=e.handleDragEnter.bind(Object(et.a)(e)),e.handleDragLeave=e.handleDragLeave.bind(Object(et.a)(e)),e.handleDrop=e.handleDrop.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleDragOver",value:function(e){e.preventDefault(),this.setState({active:!0})}},{key:"handleDragEnter",value:function(e){e.preventDefault(),this.setState({active:!0})}},{key:"handleDragLeave",value:function(e){e.preventDefault(),this.setState({active:!1})}},{key:"handleDrop",value:function(e){e.preventDefault();var t=e.dataTransfer.files;t.length>0&&this.props.onDrop(t[0]),this.setState({active:!1})}},{key:"componentDidMount",value:function(){window.addEventListener("dragenter",this.handleDragEnter),window.addEventListener("dragleave",this.handleDragLeave),window.addEventListener("dragover",this.handleDragOver),window.addEventListener("drop",this.handleDrop)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragenter",this.handleDragEnter),window.removeEventListener("dragleave",this.handleDragLeave),window.removeEventListener("dragover",this.handleDragOver),window.removeEventListener("drop",this.handleDrop)}},{key:"render",value:function(){var e=kn("DropZone",{"DropZone--is-active":this.state.active});return s.a.createElement("div",{className:e},this.props.icon&&s.a.createElement("img",{className:"DropZone__icon",src:this.props.icon}),s.a.createElement("div",{className:"DropZone__title"},this.props.title))}}]),t}(s.a.PureComponent),yn=a(28),Tn=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={privateKey:"",password:"",loading:!1},e.handleKeyPress=e.handleKeyPress.bind(Object(et.a)(e)),e.handleChange=e.handleChange.bind(Object(et.a)(e)),e.handleUnlockClick=e.handleUnlockClick.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"isValid",value:function(){return this.state.privateKey.length>0&&this.state.password.length>0}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(P.a)({},t,a))}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleUnlockClick()}},{key:"unlockWallet",value:function(){this.props.unlockWallet(Wt,this.state.password,{privateKey:this.state.privateKey}),this.setState({loading:!1})}},{key:"prepareForUnlock",value:function(){var e=this;this.setState({loading:!0}),setTimeout((function(){e.unlockWallet()}),1500)}},{key:"handleUnlockClick",value:function(){this.isValid()&&this.prepareForUnlock()}},{key:"render",value:function(){var e=this.state.loading||!1===this.isValid();return s.a.createElement("div",{className:"UnlockWalletViaPrivateKey"},s.a.createElement("div",{className:"UnlockWalletViaPrivateKey__title"},"Please enter your private key"),s.a.createElement("textarea",{className:"UnlockWalletViaPrivateKey__private-key",name:"privateKey",value:this.state.privateKey,onChange:this.handleChange}),s.a.createElement("div",{className:"UnlockWalletViaPrivateKey__private-key-instructions"},"Please enter your private key in HEX format."),s.a.createElement("input",{className:"UnlockWalletViaPrivateKey__password-input",placeholder:"Enter temporary session password",name:"password",type:"password",value:this.state.password,ref:this.passwordInput,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),s.a.createElement("div",{className:"UnlockWalletCard__warning"},"Before you enter your private key, we recommend you disconnect your device from the internet. You will be able to reconnect once your wallet is unlocked."),s.a.createElement("div",{className:"UnlockWalletViaPrivateKey__footer"},s.a.createElement(sn,{title:"Unlock Wallet",loading:this.state.loading,onClick:this.handleUnlockClick,disabled:e})))}}]),t}(s.a.Component),Cn=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={mnemonic:"",password:"",loading:!1},e.handleKeyPress=e.handleKeyPress.bind(Object(et.a)(e)),e.handleChange=e.handleChange.bind(Object(et.a)(e)),e.handleUnlockClick=e.handleUnlockClick.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"isValid",value:function(){return this.state.mnemonic.length>0&&this.state.password.length>0}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(P.a)({},t,a))}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleUnlockClick()}},{key:"unlockWallet",value:function(){this.props.unlockWallet(It,this.state.password,{mnemonic:this.state.mnemonic}),this.setState({loading:!1})}},{key:"prepareForUnlock",value:function(){var e=this;this.setState({loading:!0}),setTimeout((function(){e.unlockWallet()}),1500)}},{key:"handleUnlockClick",value:function(){this.isValid()&&this.prepareForUnlock()}},{key:"render",value:function(){var e=this.state.loading||!1===this.isValid();return s.a.createElement("div",{className:"UnlockWalletViaMnemonicPhrase"},s.a.createElement("div",{className:"UnlockWalletViaMnemonicPhrase__title"},"Please enter your 12 word phrase"),s.a.createElement("textarea",{className:"UnlockWalletViaMnemonicPhrase__mnemonic",name:"mnemonic",value:this.state.mnemonic,onChange:this.handleChange}),s.a.createElement("div",{className:"UnlockWalletViaMnemonicPhrase__mnemonic-instructions"},"Please separate each Mnemonic Phrase with a space."),s.a.createElement("input",{className:"UnlockWalletViaMnemonicPhrase__password-input",placeholder:"Enter temporary session password",name:"password",type:"password",value:this.state.password,ref:this.passwordInput,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),s.a.createElement("div",{className:"UnlockWalletCard__warning"},"Before you enter your mnemonic phrase, we recommend you disconnect your device from the internet. You will be able to reconnect once your wallet is unlocked."),s.a.createElement("div",{className:"UnlockWalletViaMnemonicPhrase__footer"},s.a.createElement(sn,{title:"Unlock Wallet",loading:this.state.loading,onClick:this.handleUnlockClick,disabled:e})))}}]),t}(s.a.Component),wn=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).fileInput=s.a.createRef(),e.passwordInput=s.a.createRef(),e.droppedFile=null,e.state={password:"",loading:!1},e.handleKeyPress=e.handleKeyPress.bind(Object(et.a)(e)),e.handleChange=e.handleChange.bind(Object(et.a)(e)),e.handleUnlockClick=e.handleUnlockClick.bind(Object(et.a)(e)),e.handleKeystoreFileDrop=e.handleKeystoreFileDrop.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"isValid",value:function(){return null!==this.keystoreFile()&&this.state.password.length>0}},{key:"keystoreFile",value:function(){var e=this.fileInput.current,t=e&&e.files.length>0?e.files[0]:null;return this.droppedFile?this.droppedFile:t}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(P.a)({},t,a)),"file"===t&&(this.droppedFile=null,this.passwordInput.current.focus())}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleUnlockClick()}},{key:"handleKeystoreFileDrop",value:function(e){var t=this;this.droppedFile=e,this.setState({droppedFile:!0},(function(){t.passwordInput.current.focus()}))}},{key:"unlockWallet",value:function(e){this.props.unlockWallet(Pt,this.state.password,{keystore:e}),this.setState({loading:!1})}},{key:"onKeystoreFileLoad",value:function(e){var t=this,a=e.target.result;setTimeout((function(){t.unlockWallet(a)}),1500)}},{key:"prepareForUnlock",value:function(){var e=this.keystoreFile(),t=new FileReader;this.setState({loading:!0}),t.onload=this.onKeystoreFileLoad.bind(this),t.readAsText(e,"UTF-8")}},{key:"handleUnlockClick",value:function(){this.isValid()&&this.prepareForUnlock()}},{key:"render",value:function(){var e=this.keystoreFile(),t=yn("UnlockWalletViaKeystoreFile__file-input",{"UnlockWalletViaKeystoreFile__file-input--has-file":null!==e}),a=this.state.loading||!1===this.isValid();return s.a.createElement("div",{className:"UnlockWalletViaKeystoreFile"},s.a.createElement(En,{title:"Drop keystore here",icon:"/img/icons/theta-file@2x.png",onDrop:this.handleKeystoreFileDrop}),s.a.createElement("div",{className:"UnlockWalletViaKeystoreFile__title"},"Please select your keystore file"),s.a.createElement("label",{htmlFor:"file-upload",className:t},s.a.createElement("input",{id:"file-upload",type:"file",name:"file",ref:this.fileInput,onChange:this.handleChange}),null===e?"Choose Keystore File":"Keystore File Set"),s.a.createElement("input",{className:"UnlockWalletViaKeystoreFile__password-input",placeholder:"Enter your wallet password",name:"password",type:"password",value:this.state.password,ref:this.passwordInput,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),s.a.createElement("div",{className:"UnlockWalletViaKeystoreFile__footer"},s.a.createElement(sn,{title:"Unlock Wallet",loading:this.state.loading,onClick:this.handleUnlockClick,disabled:a})))}}]),t}(s.a.Component),On=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={hardware:"",loading:!1,derivationPath:"m/44'/60'/0'/0/"},e.handleKeyPress=e.handleKeyPress.bind(Object(et.a)(e)),e.handleChange=e.handleChange.bind(Object(et.a)(e)),e.handleChooseHardwareClick=e.handleChooseHardwareClick.bind(Object(et.a)(e)),e.handleTrezorClick=e.handleTrezorClick.bind(Object(et.a)(e)),e.handleLedgerClick=e.handleLedgerClick.bind(Object(et.a)(e)),e.handleDerivationPathChange=e.handleDerivationPathChange.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"isValid",value:function(){return this.state.hardware.length>0}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(P.a)({},t,a))}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleUnlockClick()}},{key:"chooseHardware",value:function(){this.props.getHardwareWalletAddresses(this.state.hardware,0,this.state.derivationPath),"ledger"===this.state.hardware?setTimeout(function(){this.setState({loading:!1})}.bind(this),8e3):this.setState({loading:!1})}},{key:"prepareForChooseHardware",value:function(){var e=this;this.setState({loading:!0}),setTimeout((function(){e.chooseHardware()}),1500)}},{key:"handleChooseHardwareClick",value:function(){this.isValid()&&this.prepareForChooseHardware()}},{key:"handleTrezorClick",value:function(){this.setState({hardware:"trezor"})}},{key:"handleLedgerClick",value:function(){this.setState({hardware:"ledger"})}},{key:"handleDerivationPathChange",value:function(e){this.setState({derivationPath:e.target.value})}},{key:"render",value:function(){var e=this.state.loading||!1===this.isValid(),t="";return"trezor"===this.state.hardware?t="Please make sure your Trezor is connected before clicking 'Continue' below.":"ledger"===this.state.hardware&&(t="Please make sure your Ledger is connected with the Ethereum app open before clicking 'Continue' below."),s.a.createElement("div",{className:"UnlockWalletViaColdWallet"},s.a.createElement("div",{className:"UnlockWalletViaColdWallet__title"},"Please choose a wallet type"),s.a.createElement("div",{className:"UnlockWalletViaColdWallet__cold-wallet-hardware-select"},s.a.createElement(bn,{title:"Trezor",iconUrl:"trezor"===this.state.hardware?"/img/icons/checkmark-green@2x.png":null,isSelected:"trezor"===this.state.hardware,onClick:this.handleTrezorClick}),s.a.createElement(bn,{title:"Ledger",iconUrl:"ledger"===this.state.hardware?"/img/icons/checkmark-green@2x.png":null,isSelected:"ledger"===this.state.hardware,onClick:this.handleLedgerClick})),s.a.createElement("div",{className:"UnlockWalletCard__warning"},t),s.a.createElement("div",{className:"UnlockColdWalletLedger__choose-derivation-path"},"ledger"===this.state.hardware&&s.a.createElement("select",{value:this.state.derivationPath,onChange:this.handleDerivationPathChange,className:"UnlockColdWalletLedger__select"},s.a.createElement("option",{value:"m/44'/60'/0'/0/"},"Ethereum - m/44'/60'/0'/0"),s.a.createElement("option",{value:"m/44'/60'/0'/"},"Ethereum - m/44'/60'/0'"),s.a.createElement("option",{value:"m/44'/60'/"},"Ethereum - Ledger Live - m/44'/60'"))),s.a.createElement("div",{className:"UnlockWalletViaColdWallet__footer"},s.a.createElement(sn,{title:"Continue",loading:this.state.loading,onClick:this.handleChooseHardwareClick,disabled:e})))}}]),t}(s.a.Component),Nn=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=null;return this.props.unlockStrategy===Pt?e=s.a.createElement(wn,{unlockWallet:this.props.unlockWallet}):this.props.unlockStrategy===It?e=s.a.createElement(Cn,{unlockWallet:this.props.unlockWallet}):this.props.unlockStrategy===Wt?e=s.a.createElement(Tn,{unlockWallet:this.props.unlockWallet}):this.props.unlockStrategy===Bt&&(e=s.a.createElement(On,{getHardwareWalletAddresses:this.props.getHardwareWalletAddresses})),s.a.createElement("div",{className:"UnlockWalletCard"},s.a.createElement("div",{className:"UnlockWalletCard__content"},s.a.createElement("div",{className:"UnlockWalletCard__header"},s.a.createElement(wa,{centered:!0,condensed:!0,className:"UnlockWalletCard__tab-bar"},s.a.createElement(Na,{title:"Keystore",href:"/unlock/"+Pt}),s.a.createElement(Na,{title:"Mnemonic",href:"/unlock/"+It}),s.a.createElement(Na,{title:"Private Key",href:"/unlock/"+Wt}),s.a.createElement(Na,{title:"Hardware",href:"/unlock/"+Bt}))),e))}}]),t}(s.a.Component),_n=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).unlockWallet=e.unlockWallet.bind(Object(et.a)(e)),e.getHardwareWalletAddresses=e.getHardwareWalletAddresses.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"unlockWallet",value:function(e,t,a){this.props.dispatch(ka(e,t,a))}},{key:"getHardwareWalletAddresses",value:function(e,t,a){this.props.dispatch(function(e,t,a){return function(){var n=Object(nt.a)(at.a.mark((function n(r,s){var i;return at.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=null,n.prev=1,n.next=4,Ht.getHardwareWalletAddresses(e,t,a);case 4:i=n.sent,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),Vt.showError(n.t0.message);case 10:i&&$e.dispatch(Rt({type:da,props:{hardware:e,addresses:i,page:t,derivationPath:a}}));case 11:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e,t){return n.apply(this,arguments)}}()}(e,t,a))}},{key:"render",value:function(){var e=this.props.match.params.unlockStrategy;return s.a.createElement("div",{className:"UnlockWalletPage"},s.a.createElement("div",{className:"UnlockWalletPage__wrapper"},s.a.createElement("div",{className:"UnlockWalletPage__title"},"Unlock Your Wallet"),s.a.createElement(Nn,{unlockStrategy:e,unlockWallet:this.unlockWallet.bind(this),getHardwareWalletAddresses:this.getHardwareWalletAddresses.bind(this)}),s.a.createElement("div",{className:"UnlockWalletPage__subtitle"},s.a.createElement("span",null,"Don't have a wallet?"),s.a.createElement(nn.a,{to:"/create"},"Create Wallet"))))}}]),t}(s.a.Component),Sn=Object(g.b)((function(e){return{}}))(_n);a(567);function jn(){var e=Ht.getWalletAddress();return Dt(Le,(function(){return Tt.fetchStakes(e,{network:ft.getChainID()})}))}a(568);var An=new Pe.BigNumber(10).pow(18);function xn(e){return"vcp"===e||"gcp"===e?"/img/tokens/theta_large@2x.png":"eenp"===e?"/img/tokens/tfuel_large@2x.png":void 0}var Fn=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this.props.stake,a=t.holder,n=t.amount,r=t.withdrawn,i=t.return_height,o=t.type,l=new Pe.BigNumber(n).dividedBy(An);return s.a.createElement("tr",{className:"StakesTableRow"},s.a.createElement("td",null,"vcp"===(e=o)?"Validator":"gcp"===e?"Guardian":"eenp"===e?"Elite Edge":void 0),s.a.createElement("td",null,a),s.a.createElement("td",null,s.a.createElement("div",{className:"StakesTableRow__token-wrapper"},s.a.createElement("img",{className:"StakesTableRow__token-img",src:xn(o)}),s.a.createElement("div",null,R(l.toString())))),s.a.createElement("td",null,r?"Yes":"No"),s.a.createElement("td",null,r?i:"--"))}}]),t}(s.a.Component),Pn=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"createRows",value:function(){this.props.stakes;return this.props.stakes.map((function(e,t){return s.a.createElement(Fn,{key:e._id,stake:e})}))}},{key:"render",value:function(){return s.a.createElement("table",{className:"StakesTable",cellSpacing:"0",cellPadding:"0"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"StakesTable__header--node-type"},"Node Type"),s.a.createElement("th",{className:"StakesTable__header--holder"},"Holder"),s.a.createElement("th",{className:"StakesTable__header--amount"},"Amount"),s.a.createElement("th",{className:"StakesTable__header--withdrawn"},"Withdrawn"),s.a.createElement("th",{className:"StakesTable__header--return-height"},"Return Height"))),s.a.createElement("tbody",null,this.createRows()))}}]),t}(s.a.Component);function In(e){ft.getChainID();return e===ut.a.StakePurposes.StakeForValidator?2e6:e===ut.a.StakePurposes.StakeForGuardian?1e3:e===ut.a.StakePurposes.StakeForEliteEdge?1e4:0}function Bn(e){return e===ut.a.StakePurposes.StakeForEliteEdge?5e5:1e11}function Wn(e){ft.getChainID();return e===ut.a.StakePurposes.StakeForGuardian?1e4:0}var Hn=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleDepositStakeClick=function(){Ht.getWalletHardware();a.props.dispatch(Rt({type:ha}))},a.handleWithdrawStakeClick=function(){Ht.getWalletHardware();a.props.dispatch(Rt({type:pa}))},a.fetchStakes=function(){a.props.dispatch(jn())},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"startPollingStakes",value:function(){this.fetchStakes(),this.pollStakesIntervalId=setInterval(this.fetchStakes,15e3)}},{key:"stopPollingStakes",value:function(){this.pollStakesIntervalId&&clearInterval(this.pollStakesIntervalId)}},{key:"componentDidMount",value:function(){this.startPollingStakes()}},{key:"componentWillUnmount",value:function(){this.stopPollingStakes()}},{key:"render",value:function(){var e=this.props,t=e.stakes,a=e.isFetchingStakes;return s.a.createElement("div",{className:"StakesPage"},s.a.createElement("div",{className:"StakesPage__detail-view"},s.a.createElement(Pa,{title:"Stakes",sticky:!0},s.a.createElement("div",{className:"StakesPage__header-buttons"},s.a.createElement(en,{title:"Deposit Stake",iconUrl:"/img/icons/stake-deposit@2x.png",onClick:this.handleDepositStakeClick}),s.a.createElement(en,{title:"Withdraw Stake",iconUrl:"/img/icons/stake-withdraw@2x.png",style:{marginLeft:12},onClick:this.handleWithdrawStakeClick}))),0===t.length&&!1===a&&s.a.createElement(Xa,{icon:"/img/icons/empty-stakes@2x.png",title:"No Stakes"}),a&&s.a.createElement(Qa.a,{singleColor:"#ffffff",className:"StakesPage__detail-view-spinner"}),t.length>0&&s.a.createElement(Pn,{stakes:t})))}}]),t}(s.a.Component),Dn=Object(g.b)((function(e,t){return{stakes:e.stakes.stakes,isFetchingStakes:e.stakes.isFetchingStakes}}))(Hn),Mn=(a(569),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"OfflineCard"},s.a.createElement("div",{className:"OfflineCard__content"},s.a.createElement("div",{className:"OfflineCard__header"}),s.a.createElement("div",{className:"OfflineCard__body"},s.a.createElement("img",{className:"OfflineCard__icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAADcCAMAAAC78M9AAAAAY1BMVEUAAACSotaSotaSotaSotaSotaSotaSotaSotaSotaSotaSotb/HSX/HSWSotaSotaSotb/HSWSotb/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSWSotb/HSXyXCU7AAAAH3RSTlMAgBC/759gMM9A3yDvEHBQr4CPn79AMGDP3yBwUK+P9b1oOQAACbhJREFUeNrknOl6oyAUQC+oKO670Szy/k857XRmSAMENKJken62X9t4cjcIFDRM3VD95tz18FPpqjZl95xulwx+Gl2TMhnX4Se5yIaRKUmbCX4I55Q952eo6Eamp/rvEyS7MiPGDl4ioTRHCHm/ieYPfO+LEiGUUxrCoXQpM6WCNYT08+lnI+IPKfkxRs5sAW22LAYKVEbzGiIPEQp70ogZ0FZV98G5ak7CN0+ZuQNvfpW4RBTDLjTCzDDBHdnlcbZIewMJJIjnzYiDXEgVyx7SagKRoV1koqjjeXP8UpBhz0Oq7I/dyTQ7SDlbww8IBo61OnnNTOetEygIo9kykZXA6BgnvcBTphPjNCAl8ecdiOutXWTp3ZvcL0ojubVgluO6i+vCpljdxU8GInjekSjHFhLDcDgY7goKiNB5X8oCNmEUPCzJjm6liOhrYfG1tiDoD94Ha1IEJVt2jLQHU1o+ay8TEXs1KmioXZQUCC1TEtDtKuVl1U91IOBLQ6BERQjLwJSYr1E8Aq8wCOluRPcsJNCjgyCn8AKU1J5RhryiYpQ2gL5q2/N0v393ba9DJm01PQhEdxLqAsMW0LyM9UMnwi+3jAo4N/ab4Z+XL13j3TNPz6YqXNuZhRMS+JZUNDwgHr/ITfQp+yKdZD8JEjBBiIINwtzTqMhhBakkIHr2j4F7+E0jC4kL7AzWBEZMXsiM6T4xOAP38PjuX7mdAyieuogoLKOStYyW3TF8euDI+s0Iu6Nf6nsJaJE986ASwVKmEJEJ0bQ7OI9mJQivKRGTECZSRqnFCxxHGKirZgGmTNIHnAy38Sv+1SPBefxyfnRCiVCHhLgqu/BqeTDEU04VYMSgeE8bEw+8zbZwOLRU9Y9wUdM4g96EuEp3SARAoioWaImIDgQTeg/ApwsnUKmIwhdEQKP3ALypOkKiqBX5CyJ69sAZ3BcBQOUqPLxSBJ+rOcM7iAAgsbR9UDMRF4kHvQn+QY9TIH+WUBuJqEQPehOZU13jjqRUpId+oLqJHvQmOldFANBYmx4mjzIyAVktObsxYkvBSNs99OVuYEqu0g57BgeRfhAdYN3WbSc8oBzFDzuJLCgirNmyvKn2I06NSkTvZPfUBYUfAkezy3T9Pk82ChE3d2sl30033aWYZGVwuPfAw+bxmUenS8QfCn8WICDhJHnEbHxYXzRSXcfv1JmAPUnJfPoRcC/MEXyd1Uj65OjoXCmAjExk0qifmoczZZfT5xNfvlWXd8gMnh7aKbNRfE7TPwZ8BwCy9EndP6KeRAZttGernujGeON1HxwYmGjXnAu4sPcolf/I9SZ6tjzb+5Q5vM4wLBRRqN6UG8CIbGRvVCH+EPq6ITNLF5rIToy58CHXQnCkM3Fhi0z04/1q9I3AnmAiEZLDvAlcUvaGifFFoKmYPNa1h5CzG7vj7S4I60xMqXCLz+QW4ABvB5KYUO9SpudMrqFlzDiL9CdKkfdAjRChFKxChGn76b51ehOifjqP7BvNKgMFCjx/fo5XChfaLJoINTv4YzP0/yRcKl5G1sZDyI+NGhHxK1xWTSCxK4qk7Qf8G6vrQ5iX/rwGD1HbJpDQEFpmTNqBMbgI4tfusxFs0wQCgWr766+YlNtcT0msmShApD8ZhcMZDCnKeTMigq2Y8EHKkDIdjWE4hLU/b0tAYStyRUBwsird5N9HEG+2QJzjjScrAmoGZdUcKzMNGMWzJfwggU1I6s8RTvPLpnMrsXC7mP4Jf7YJV7ELXdW0f7OkbavLtP5I17urWANGxun+55ofJ/C86D9RgZGvT3KvRpQ+W4/lyIsNVGBwFhJrHCz4dxg0D3S/DYGbhJ5mUBai+dX/wxEX4B64ntVEKISVJPkzv6VzpaKI7a0TMPGe3WRzCVwqX2gdwgYkeaz0HIIzFP7mt5RFqHI+caVo4kDV4ELYlETVnD0nKkUYK3IiAY7lOcUncDhIeTHZDsR3crzC3u4vCyPfvZoZ+kc0d1y7lh5EOu5R0GDrpk4NBxEcuAAoYvn54gPA0d6NTJ8fcQi7E8aa073WoYe/gk+oLymSGHTYDwoCu0LcWP7I3o4AdiR3pY/j8lATgUOTXX5g8wicGmbC+CATOHAkLfiYf4gJHMmOuh9LfcBbgyN3JlsO0V/dsu/Bga0Ag/PF1j34FJwgjDQmbHtwZud0z9eGIzeWe5puZt+E57IHxfliGxDn2qbWRA028ISZ3jnyx+QAG7jvQYzaECzwBh4EExQs4L+Bh0cTCVggeAcP303EYIPkLTwAEOvjP3kLD3u8ziJ2+uzSr/bOBcdxEAii/A1YMigX4P633B3NZImGxGYN2DT0u0CiEp/GVDVX/k9DqeutjIL8PxHkg7P0wf8hKTWdfNy4DrN5ffsTbXezHL9opx/DD43lYXNjGT26aiuxRhXytOjmO2Ah5dkmq0ZbL9hmwykE7cJDWc8IN3ZcJ78HbRmPISaIsiEDoBmVE2mWQizsyoI9wv8BKqNy2veWomPQTz5frIOSUak1HDh1a/qwOv1pM9FzHKHM0pMf8Vo2H77pwUZZznY24hWbTnTltz4J84Xnh5XaDzqCmh6LLm16EA8nvVpTzofdrKr0WAaY3UOVyhAx30MLwv1zboyDFVTo/Rkac5CVq0JGu4molG4X1pUuvfCUYLqJX532EdYp0kG4Svtxv87GLB302so8GES/pZVvWRErOOuEahvjWASUgwdPZ3HbmSdIn7QeuelC0emx44IZLEEI0dp/mIZ1Ot03/L4OUNyD5Zh9HcC4ByH4+qC4HJ14cy8F9FcKcZf4+hylwxkGEARBEARBEARBEARBEARB+mF1VPK/eKo69n00Jc0+WtnpVeYJSt2kttu7q2YYDug1mXbES+37eynfyapDBJRdLlLfDHV/b+vriTqgElGHXSZYMqM1bvJ1QoYsNBkcF37R+5tTrXjT1lxS+vOyOgTHHGnjUrZ0fSYcLcy80knsTj+ETcwzJNRulGMRICzn9XMM5k2JAcBOWgF2FN804ZVxawl3WCnIOXZQelhFr+EFTkaFH68AHkAupRwdIjJjXyGjkpF0N1OsljnhGwABHRTiSiHYdEJ8WiOmOG3wEPHkLdsUu4YPEcHIO/QUhw0aXlCHM8OTUTHhBctICgfZVKd+RHab5PRJ5P41zhIm+R5BzO6XaiVgtps6g07aEX5sBSCGvhVX4RfPPuCLFHNdbPCQoPl3T8+ZBkRcD/FCnIaPzFFMJXX2LnbwifEF0+gKeCqBOjyVQB2S2glki8aKODGtQyQZFCP1AC9ilemomNSWTtSrFsJP3TZmNRv9wty5U/wBm2mmq1Lx0n8AAAAASUVORK5CYII="}),s.a.createElement("div",{className:"OfflineCard__title"},"You're offline!"),s.a.createElement("div",{className:"OfflineCard__message"},"Your wallet has been unlocked. You may enable your internet connection now. Once your connection is enabled, press \u2018Continue\u2019.")),s.a.createElement("div",{className:"OfflineCard__footer"},s.a.createElement(sn,{title:"Continue",href:"/wallet"}))))}}]),t}(s.a.Component)),Ln=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handleContinue=e.handleContinue.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleContinue",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",{className:"CreateWalletPage"},s.a.createElement("div",{className:"CreateWalletPage__wrapper"},s.a.createElement("div",{className:"CreateWalletPage__title"},""),s.a.createElement(Mn,{onContinue:this.handleContinue})))}}]),t}(s.a.Component),Un=a(33),Rn=(a(570),a(129)),Gn=new it.a("http://localhost");function Kn(e){var t=B.a.get(e,["constant"],null),a=B.a.get(e,["stateMutability"],null);return"view"===a||"pure"===a||!0===t}function Vn(e,t){try{var a=Yn(e);return new Gn.eth.Contract(a,t)}catch(n){return null}}function Yn(e){try{return JSON.parse(e)}catch(t){return null}}function zn(e){return function(e){var t=Yn(e);return!1===B.a.isNil(t&&t.object)}(e)||"Invalid byte code"}function qn(e){return Gn.utils.isAddress(e)||"Invalid address"}function Jn(e){return function(e){var t=Yn(e);try{return!1===B.a.isNil(t&&new Gn.eth.Contract(t,null))}catch(a){return!1}}(e)||"Invalid ABI/JSON interface"}function Xn(e){return!B.a.isNil(e)&&0!==e.length||"Function is required"}function Zn(e){return B.a.filter(e,(function(e){return"function"===e.type}))}function Qn(e){var t=B.a.filter(e,(function(e){return"constructor"===e.type}));return B.a.first(t)}function $n(e,t,a){var n=a.register,i=a.errors;return s.a.createElement("div",null,t.length>0&&s.a.createElement("div",null,s.a.createElement("div",{className:"FormSectionTitle"},e),s.a.createElement("div",{className:"FormColumns"},t.map((function(e,t){var a=e.name,o=e.type,l="arg".concat(t),c="inputs.".concat(l);return s.a.createElement(r.Fragment,{key:c},s.a.createElement("div",{className:"FormColumn"},s.a.createElement("div",{className:"InputTitle"},a+" ("+o+")"),s.a.createElement("input",{className:"RoundedInput",placeholder:"Enter "+a,name:c,ref:n({required:"Input "+a+" is required",validate:function(e){return!0}})}),B.a.get(i,["inputs",l])&&s.a.createElement("div",{className:"InputError"},B.a.get(i,["inputs",l,"message"]))))})))))}function er(e){var t=e.onSubmit,a=Object(Rn.a)({mode:"onChange"}),n=a.register,r=a.handleSubmit,i=a.errors,o=a.watch,l=o("abi"),c=o("byteCode"),u=Vn(l,null),d=Qn(B.a.get(u,["options","jsonInterface"])),h=B.a.get(d,["inputs"],[]);return window.contract=u,s.a.createElement("form",{onSubmit:r(t)},s.a.createElement("div",{className:"FormColumns"},s.a.createElement("div",{className:"FormColumn"},s.a.createElement("div",{className:"FormSectionTitle"},"ABI/JSON Interface"),s.a.createElement("textarea",{className:"RoundedInput",placeholder:"Paste ABI/JSON interface",name:"abi",ref:n({required:"Contract ABI/JSON interface is required.",validate:Jn})}),i.abi&&s.a.createElement("div",{className:"InputError"},i.abi.message)),s.a.createElement("div",{className:"FormColumn"},s.a.createElement("div",{className:"FormSectionTitle"},"Byte Code"),s.a.createElement("textarea",{className:"RoundedInput",placeholder:"Paste byte code",name:"byteCode",ref:n({required:"Contract byte code is required.",validate:zn})}),i.byteCode&&s.a.createElement("div",{className:"InputError"},i.byteCode.message))),$n("Constructor Inputs",h,{register:n,errors:i}),s.a.createElement(sn,{title:"Deploy Contract",style:{marginTop:15},disabled:B.a.size(i)>0||B.a.isNil(l)||B.a.isNil(c),onClick:r(t)}))}function tr(e){var t=e.defaultFormValues,a=e.disabled,n=e.loading,i=e.onSubmit,o=e.onChange,l=B.a.merge({functionName:""},t),c=Object(Rn.a)({mode:"onChange",defaultValues:l}),u=c.register,d=c.handleSubmit,h=c.errors,m=c.watch,p=c.setValue,f=Object(r.useState)(l),v=Object(Un.a)(f,2),g=v[0],b=v[1],k=m(),E=!1===B.a.isEqual(g,k);Object(r.useEffect)((function(){E&&(b(k),o&&o())}),[E,k,o,p]);var y=m("abi"),T=m("address"),C=m("functionName"),w=Vn(y,null),O=Zn(B.a.get(w,["options","jsonInterface"]))||[],N=W(O.map((function(e){return e.name})),O),_=B.a.get(N,[C]),S=B.a.get(_,["inputs"],[]),j=Kn(_);return s.a.createElement("form",{onSubmit:d(i)},s.a.createElement("div",{className:"FormSectionTitle"},"Contract Address"),s.a.createElement("input",{className:"RoundedInput",placeholder:"Enter contract address",name:"address",ref:u({required:"Contract address is required.",validate:qn})}),h.address&&s.a.createElement("div",{className:"InputError"},h.address.message),s.a.createElement("div",{className:"FormColumns"},s.a.createElement("div",{className:"FormColumn"},s.a.createElement("div",{className:"FormSectionTitle"},"ABI/JSON Interface"),s.a.createElement("textarea",{className:"RoundedInput",placeholder:"Paste ABI/JSON interface",name:"abi",ref:u({required:"Contract ABI/JSON interface is required.",validate:Jn})}),h.abi&&s.a.createElement("div",{className:"InputError"},h.abi.message)),O.length>0&&s.a.createElement("div",{className:"FormColumn"},s.a.createElement("div",{className:"FormSectionTitle"},"Function"),s.a.createElement("select",{name:"functionName",className:"RoundedInput",placeholder:"Choose function",ref:u({required:"Function is required.",validate:Xn}),onChange:function(){}},s.a.createElement("option",{value:"",key:"__placeholder__"},"Choose function"),O.map((function(e,t){var a=e.name;e.type;return s.a.createElement("option",{value:a,key:a},a)}))),h.functionName&&s.a.createElement("div",{className:"InputError"},h.functionName.message))),$n("Function Inputs",S,{register:u,errors:h}),s.a.createElement(sn,{title:j?"Read":"Write",style:{marginTop:15},disabled:a||B.a.size(h)>0||B.a.isNil(y)||B.a.isNil(T)||B.a.isNil(C),loading:n,onClick:d(i)}))}var ar=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).onSubmit=function(e){var t=e.abi,a=e.byteCode,n=e.inputs,r=Yn(a),s=Vn(t,null),i=Qn(B.a.get(s,["options","jsonInterface"])),o=B.a.get(i,["inputs"],[]),l=B.a.map(o,(function(e){e.name;return e.type})),c=B.a.map(o,(function(e,t){e.name;var a=e.type,r=n["arg".concat(t)];return a.includes("[]")?Yn(r):"boolean"===a||"bool"===a?Boolean(Yn(r)):r})),u=Gn.eth.abi.encodeParameters(l,c).slice(2),d=(new Pe.BigNumber(10).pow(12),Ht.getWalletAddress()),h=ft.getSmartContractGasPrice(),m=r.object+u;$e.dispatch(Rt({type:va,props:{network:ft.getChainID(),contractMode:Yt,contractAbi:t,transaction:{from:d,to:null,data:m,value:0,transactionFee:h,gasLimit:1e7}}}))},e.defaultState={loading:!1},e.state=e.defaultState,e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"DeployContractContent"},s.a.createElement(er,{onSubmit:this.onSubmit}))}}]),t}(s.a.Component),nr=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).onSubmit=function(){var t=Object(nt.a)(at.a.mark((function t(a){var n,r,s,i,o,l,c,u,d,h,m,p,f,v,g,b,k,E,y,T,C,w,O,N,_,S;return at.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.address,r=a.abi,s=a.functionName,i=a.inputs,o=Vn(r,n),l=B.a.get(o,["options","jsonInterface"]),c=Zn(l)||[],u=W(c.map((function(e){return e.name})),c),d=B.a.get(u,[s]),h=B.a.get(d,["inputs"],[]),m=B.a.get(d,["outputs"],[]),p=B.a.get(d,["signature"]).slice(2),f=Kn(d),v=B.a.map(h,(function(e){e.name;return e.type})),g=B.a.map(h,(function(e,t){e.name;var a=e.type,n=i["arg".concat(t)];return a.includes("[]")?Yn(n):"boolean"===a||"bool"===a?Boolean(Yn(n)):n})),b=Gn.eth.abi.encodeParameters(v,g).slice(2),new Pe.BigNumber(10).pow(12),k=Ht.getWalletAddress(),E=ft.getSmartContractGasPrice(),y=1e7,T=p+b,C=0,1,!f){t.next=42;break}return e.setState({isLoading:!0,callResult:null}),1,w=ft.unsignedSmartContractTx({from:k,to:n,data:T,value:C,transactionFee:E,gasLimit:y},1),O=ut.a.TxSigner.serializeTx(w),t.prev=25,t.next=28,Tt.callSmartContract({data:O.toString("hex").slice(2)},{network:ft.getChainID()});case 28:return N=t.sent,t.next=31,N.json();case 31:_=t.sent,S=B.a.get(_,"result"),B.a.get(S,"vm_error"),e.setState({callResult:B.a.merge(S,{outputs:m,decodedParameters:Gn.eth.abi.decodeParameters(m,B.a.get(S,"vm_return"))}),isLoading:!1}),t.next=40;break;case 37:t.prev=37,t.t0=t.catch(25),e.setState({isLoading:!1,callResult:{vm_error:t.t0.message}});case 40:t.next=43;break;case 42:$e.dispatch(Rt({type:va,props:{network:ft.getChainID(),contractMode:qt,contractAbi:r,transaction:{from:k,to:n,data:T,value:C,transactionFee:E,gasLimit:y}}}));case 43:case"end":return t.stop()}}),t,null,[[25,37]])})));return function(e){return t.apply(this,arguments)}}(),e.onChange=function(){e.setState({callResult:null})},e.defaultState={loading:!1,result:null},e.state=e.defaultState,e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.defaultFormValues,t=this.state,a=t.isLoading,n=t.callResult,i=B.a.get(n,"vm_error");return s.a.createElement("div",{className:"InteractWithContractContent"},s.a.createElement(tr,{defaultFormValues:e,onSubmit:this.onSubmit,onChange:this.onChange,loading:a,disabled:a}),i&&s.a.createElement("div",{className:"InputError",style:{marginTop:20}},i),n&&s.a.createElement("div",{style:{marginTop:20}},s.a.createElement("div",null,s.a.createElement("div",{className:"InputTitle"},"Raw Result"),s.a.createElement("input",{className:"RoundedInput",name:"vm_return",value:B.a.get(n,"vm_return"),readOnly:!0}))),n&&s.a.createElement("div",{className:"FormColumns"},B.a.get(n,"outputs",[]).map((function(e,t){var a=e.name,i=e.type;return s.a.createElement(r.Fragment,{key:a},s.a.createElement("div",{className:"FormColumn"},s.a.createElement("div",{className:"InputTitle"},a+" ("+i+")"),s.a.createElement("input",{className:"RoundedInput",value:B.a.get(n,["decodedParameters",t]),readOnly:!0})))}))))}}]),t}(s.a.Component),rr=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.match.params.contractMode,t=function(e){var t=e||document.location.search;return B.a.isNil(t)||0===t.length?{}:t.replace(/(^\?)/,"").split("&").map(function(e){return this[(e=e.split("="))[0]]=e[1],this}.bind({}))[0]}(this.props.history.location.search);return t.abi&&(t.abi=atob(t.abi)),s.a.createElement("div",{className:"ContractPage"},s.a.createElement("div",{className:"ContractPage__detail-view"},s.a.createElement(Pa,{title:null,sticky:!0},s.a.createElement(wa,{centered:!0,condensed:!1,style:{width:"100%"}},s.a.createElement(Na,{title:"Deploy Contract",href:"/wallet/contract/"+Yt}),s.a.createElement(Na,{title:"Interact with Contract",href:"/wallet/contract/"+zt}))),e===Yt&&s.a.createElement(ar,null),e===zt&&s.a.createElement(nr,{defaultFormValues:t})))}}]),t}(s.a.Component),sr=Object(g.b)((function(e){return{}}))(rr),ir=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Pages"},s.a.createElement(p.a,null,s.a.createElement(f.a,{from:"/onboarding",to:"/onboarding/0",exact:!0}),s.a.createElement(v.a,{path:"/onboarding/:onboardingStep",component:dn})),s.a.createElement(v.a,{path:"/create",component:vn}),s.a.createElement(p.a,null,s.a.createElement(f.a,{from:"/unlock",to:"/unlock/keystore-file",exact:!0}),s.a.createElement(v.a,{path:"/unlock/:unlockStrategy",component:Sn})),s.a.createElement(v.a,{path:"/offline",component:Ln}))}}]),t}(s.a.Component),or=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Pages Pages--wallet"},s.a.createElement(p.a,null,!1===Ht.unlocked()&&s.a.createElement(f.a,{to:"/unlock"}),s.a.createElement(f.a,{from:"/wallet/contract/",to:"/wallet/contract/"+Yt,exact:!0}),s.a.createElement(v.a,{path:"/wallet/contract/:contractMode",component:sr}),s.a.createElement(v.a,{path:"/wallet/settings",component:cn}),s.a.createElement(v.a,{path:"/wallet/stakes",component:Dn}),s.a.createElement(f.a,{from:"/wallet",to:"/wallet/tokens/theta",exact:!0}),s.a.createElement(f.a,{from:"/wallet/tokens",to:"/wallet/tokens/theta",exact:!0}),s.a.createElement(v.a,{path:"/wallet/tokens/:tokenType",component:an}),s.a.createElement(v.a,{path:"/offline",component:Ln})))}}]),t}(s.a.Component),lr=(a(571),a(246)),cr=a.n(lr),ur=(a(577),a(578),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Modal"},s.a.createElement("a",{className:"Modal__close-button",onClick:function(e){e.preventDefault()}},s.a.createElement("img",{src:"/img/icons/modal-x@2x.png"})),this.props.children)}}]),t}(s.a.Component)),dr=(a(579),a(28)),hr=function(e){var t=e.message,a=e.learnMoreHref,n=e.style,r=e.className,i=dr("Warning",r);return s.a.createElement("div",{style:n,className:i},s.a.createElement("span",{className:"Warning__message"},t),s.a.createElement("a",{className:"Warning__learn-more",href:a,target:"_blank",rel:"noopener noreferrer"},"Learn more"))},mr="https://docs.thetatoken.org/docs/preventing-lost-eth-erc20-tokens",pr=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleCopyAddressClick=function(){M(Ht.getWalletAddress()),Vt.showSuccess("Your address has been copied")},a.handleFaucetClick=Object(nt.a)(at.a.mark((function e(){var t,n;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),e.prev=1,e.next=4,Tt.callFaucet(Ht.getWalletAddress(),J(ft.getChainID()));case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,B.a.get(n,"message")&&Vt.showSuccess("Your TFUEL has been sent."),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),Vt.showError("You have exceeded the faucet limit");case 14:return e.prev=14,a.setState({isLoading:!1}),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),a.state={isLoading:!1},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.isLoading,t=Ht.getWalletAddress(),a="https://chart.googleapis.com/chart?chs=160x160&cht=qr&chl=".concat(t,"&choe=UTF-8&chld=L|0"),n=!1===B.a.isNil(J(ft.getChainID()));return s.a.createElement(ur,null,s.a.createElement("div",{className:"ReceiveModal"},s.a.createElement("div",{className:"ReceiveModal__title"},"Receive"),s.a.createElement(hr,{message:"Do not send ETH or ERC20 tokens to this address.",learnMoreHref:mr,style:{marginBottom:30}}),s.a.createElement("div",{className:"ReceiveModal__public-address-title"},"My Public Address"),s.a.createElement("div",{className:"ReceiveModal__public-address"},t),s.a.createElement("div",{className:"ReceiveModal__buttons"},s.a.createElement(en,{title:"Copy",iconUrl:"/img/icons/copy@2x.png",onClick:this.handleCopyAddressClick})),s.a.createElement("img",{src:a,className:"ReceiveModal__qr"}),n&&Z.faucetAvailable&&s.a.createElement("div",{className:"ReceiveModal__faucet"},s.a.createElement(en,{title:"Faucet",disabled:e,loading:e,className:"ReceiveModal__faucet-button",iconUrl:"/img/tab-bar/receive@2x.png",onClick:this.handleFaucetClick}),s.a.createElement("div",{className:"ReceiveModal__faucet-message"},"Receive a small amount of TFUEL on ",q(ft.getChainID())))))}}]),t}(s.a.Component),fr=(a(580),a(581),a(582),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"FormInputContainer"},s.a.createElement("div",{className:"FormInputContainer__title"},this.props.title),s.a.createElement("div",{className:"FormInputContainer__input-container"},this.props.children),s.a.createElement("div",{className:"FormInputContainer__error"},this.props.error))}}]),t}(s.a.Component)),vr=(a(583),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"ValueWithTitle"},s.a.createElement("div",{className:"ValueWithTitle__title"},this.props.title),s.a.createElement("div",{className:"ValueWithTitle__value"},this.props.value))}}]),t}(s.a.Component)),gr=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={tokenType:e.defaultTokenType||Fe.ERC20_THETA,to:"",amount:"",transactionFee:null,gasPrice:null,gasLimit:null,invalidAddress:!1,insufficientFunds:!1,invalidAmount:!1,invalidDecimalPlaces:!1,showGasDetails:!1},a.handleChange=a.handleChange.bind(Object(et.a)(a)),a.handleGasDetailsClick=a.handleGasDetailsClick.bind(Object(et.a)(a)),a.handleSendClick=a.handleSendClick.bind(Object(et.a)(a)),a.handleEntireBalanceClick=a.handleEntireBalanceClick.bind(Object(et.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=this,a=e.target.name,n=e.target.value;if("tokenType"===a){this.updateGasPrice(),this.setState(Object.assign({to:"",amount:"",transactionFee:null,gasPrice:null,gasLimit:null,invalidAddress:!1,invalidDecimalPlaces:!1,invalidAmount:!1,insufficientFunds:!1},{tokenType:n}))}else"amount"===a&&(n=n.replace(/[^0-9.]/g,"")),this.setState(Object(P.a)({},a,n),(function(){t.validate(),t.updateTransactionFee()}))}},{key:"handleGasDetailsClick",value:function(){this.setState({showGasDetails:!this.state.showGasDetails})}},{key:"handleSendClick",value:function(){$e.dispatch(Rt({type:ca,props:{network:X.__deprecated__ETHEREUM,transaction:{tokenType:this.state.tokenType,to:this.state.to,amount:this.state.amount,gas:this.state.gasLimit,gasPrice:this.state.gasPrice,transactionFee:this.state.transactionFee}}}))}},{key:"updateGasPrice",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct.getGasPrice();case 2:return t=e.sent,this.setState({gasPrice:t}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateGasLimit",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t,a;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={tokenType:this.state.tokenType,to:this.state.to,from:this.props.walletAddress,amount:this.state.amount,gasPrice:this.state.gasPrice},e.next=3,ct.estimateGas(t);case 3:return a=e.sent,this.setState({gasLimit:a}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isValid",value:function(){return this.state.to.length>0&&this.state.amount.length>0&&!1===this.state.invalidAddress&&!1===this.state.insufficientFunds&&!1===this.state.invalidDecimalPlaces&&!1===this.state.invalidAmount}},{key:"updateTransactionFee",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t,a,n;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isValid()){e.next=17;break}return t=this.state.gasPrice,e.next=4,this.updateGasLimit();case 4:if(a=e.sent,null==t||null==a){e.next=13;break}return e.next=8,ct.getTransactionFee(this.state.gasPrice,a);case 8:return n=e.sent,this.setState({transactionFee:n}),e.abrupt("return",n);case 13:return this.setState({transactionFee:null}),e.abrupt("return",null);case 15:e.next=19;break;case 17:return this.setState({transactionFee:null}),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"calculateEntireEtherBalance",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t,a,n,r,s;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateTransactionFee();case 2:t=e.sent,a=this.props.balancesByType[Fe.ETHEREUM],t&&(n=new Pe.BigNumber(t),r=new Pe.BigNumber(a),s=r.minus(n),this.setState({amount:s.toString()}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleEntireBalanceClick",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t,a,n=this;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.tokenType===Fe.ERC20_THETA?(t=this.props.balancesByType[Fe.ERC20_THETA],this.setState({amount:t})):this.state.tokenType===Fe.ETHEREUM&&(a=this.props.balancesByType[Fe.ETHEREUM],0!==parseFloat(a)&&this.setState({amount:a},(function(){n.calculateEntireEtherBalance()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(){this.state.to.length>0&&this.validateAddress(),this.state.amount.length>0&&this.validateAmount()}},{key:"validateAddress",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t,a=this;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ct.isAddress(this.state.to),this.setState({invalidAddress:!1===t},(function(){a.updateTransactionFee()}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validateAmount",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t,a,n,r,s=this;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=parseFloat(this.state.amount),a=this.props.balancesByType[Fe.ERC20_THETA],n=this.props.balancesByType[Fe.ETHEREUM],r=null,this.state.tokenType===Fe.ERC20_THETA?r=a:this.state.tokenType===Fe.ETHEREUM&&(r=n),this.setState({insufficientFunds:t>parseFloat(r),invalidAmount:0===t||t<0,invalidDecimalPlaces:!H(this.state.amount,18)},(function(){s.updateTransactionFee()}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,a){this.state.to!==t.to&&this.validateAddress(),this.state.amount===t.amount&&this.state.gasPrice===t.gasPrice||(this.validateAmount(),this.updateTransactionFee())}},{key:"componentDidMount",value:function(){this.updateGasPrice()}},{key:"render",value:function(){var e=null!==this.state.to&&""!==this.state.to&&!1===this.state.invalidAddress,t="ERC20 Theta (".concat(this.props.balancesByType[Fe.ERC20_THETA],")"),a="Ethereum (".concat(this.props.balancesByType[Fe.ETHEREUM],")"),n=s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,"Transaction Fee"),s.a.createElement("a",{className:"TxForm__toggle-gas-details",onClick:this.handleGasDetailsClick},this.state.showGasDetails?"Hide Gas Details":"Show Gas Details")),r=s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,"Amount"),e&&s.a.createElement("a",{className:"TxForm__entire-balance",onClick:this.handleEntireBalanceClick},"Entire Balance")),i=this.isValid(),o=this.state.invalidAddress?"Invalid address":null,l=null;return this.state.insufficientFunds?l="Insufficient funds":this.state.invalidDecimalPlaces?l="Invalid denomination":this.state.invalidAmount&&(l="Invalid amount"),s.a.createElement("div",{className:"TxForm TxForm--ethereum-network"},s.a.createElement(fr,{title:"Token"},s.a.createElement("select",{className:"BottomBorderInput",value:this.state.tokenType,onChange:this.handleChange,name:"tokenType"},s.a.createElement("option",{value:Fe.ERC20_THETA},t),s.a.createElement("option",{value:Fe.ETHEREUM},a))),s.a.createElement(fr,{title:"To",error:o},s.a.createElement("input",{className:"BottomBorderInput",name:"to",placeholder:"Enter address",value:this.state.to,onChange:this.handleChange})),s.a.createElement(fr,{title:r,error:l},s.a.createElement("input",{className:"BottomBorderInput",type:"text",value:this.state.amount,name:"amount",placeholder:"Enter amount to send",onChange:this.handleChange})),s.a.createElement("div",{className:"TxForm__fee-container"},s.a.createElement("div",{className:""},s.a.createElement(vr,{title:n,value:this.state.transactionFee?this.state.transactionFee+" ETH":"--"})),this.state.showGasDetails&&s.a.createElement("div",{className:"TxForm__gas-details-container"},s.a.createElement(vr,{title:"Gas Price",value:this.state.gasPrice?this.state.gasPrice+" Gwei":"--"}),s.a.createElement(vr,{title:"Gas Limit",value:this.state.gasLimit||"--"}))),s.a.createElement(sn,{title:"Send",disabled:!1===i,onClick:this.handleSendClick}))}}]),t}(s.a.Component),br=Object(g.b)((function(e){return{balancesByType:e.wallet.ethereumBalancesByType,walletAddress:e.wallet.address}}))(gr),kr=(a(124),a(584),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={tokenType:e.defaultTokenType||Fe.THETA,to:"",amount:"",transactionFee:ft.getTransactionFee(),invalidAddress:!1,insufficientFunds:!1,invalidAmount:!1,invalidDecimalPlaces:!1},a.handleChange=a.handleChange.bind(Object(et.a)(a)),a.handleSendClick=a.handleSendClick.bind(Object(et.a)(a)),a.handleEntireBalanceClick=a.handleEntireBalanceClick.bind(Object(et.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getBalanceOfTokenType",value:function(e){return B.a.get(this.props.balancesByType,e,0)}},{key:"handleChange",value:function(e){var t=this,a=e.target.name,n=e.target.value;if("tokenType"===a){var r={to:"",amount:"",transactionFee:ft.getTransactionFee(),invalidAddress:!1,invalidDecimalPlaces:!1,invalidAmount:!1,insufficientFunds:!1};this.setState(Object.assign(r,{tokenType:n}))}else"amount"===a&&(n=n.replace(/[^0-9.]/g,"")),this.setState(Object(P.a)({},a,n),(function(){t.validate()}))}},{key:"handleSendClick",value:function(){var e=this.state.to.toLowerCase();!1===e.startsWith("0x")&&(e="0x"+e),$e.dispatch(Rt({type:ca,props:{network:ft.getChainID(),transaction:{tokenType:this.state.tokenType,from:this.props.walletAddress,to:e,amount:this.state.amount,transactionFee:this.state.transactionFee}}}))}},{key:"isValid",value:function(){return this.state.to.length>0&&this.state.amount.length>0&&!1===this.state.invalidAddress&&!1===this.state.insufficientFunds&&!1===this.state.invalidDecimalPlaces&&!1===this.state.invalidAmount}},{key:"calculateEntireTFuelBalance",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t,a,n,r,s;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.transactionFee,a=this.getBalanceOfTokenType(Fe.THETA_FUEL),t&&(n=new Pe.BigNumber(t),r=new Pe.BigNumber(a),s=r.minus(n),this.setState({amount:s.toString()}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleEntireBalanceClick",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t,a,n=this;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.tokenType===Fe.THETA?(t=this.getBalanceOfTokenType(Fe.THETA),this.setState({amount:t})):this.state.tokenType===Fe.THETA_FUEL&&(a=this.getBalanceOfTokenType(Fe.THETA_FUEL),0!==parseFloat(a)&&this.setState({amount:a},(function(){n.calculateEntireTFuelBalance()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(){this.state.to.length>0&&this.validateAddress(),this.state.amount.length>0&&this.validateAmount()}},{key:"validateAddress",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ft.isAddress(this.state.to),this.setState({invalidAddress:!1===t});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validateAmount",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t,a,n,r;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=parseFloat(this.state.amount),a=this.getBalanceOfTokenType(Fe.THETA),n=this.getBalanceOfTokenType(Fe.THETA_FUEL),r=null,this.state.tokenType===Fe.THETA?r=a:this.state.tokenType===Fe.THETA_FUEL&&(r=n),this.setState({insufficientFunds:t>parseFloat(r),invalidAmount:0===t||t<0,invalidDecimalPlaces:!H(this.state.amount,18)});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,a){this.state.to!==t.to&&this.validateAddress(),this.state.amount===t.amount&&this.state.gasPrice===t.gasPrice||this.validateAmount()}},{key:"render",value:function(){var e=this.props.balancesLoaded,t=null!==this.state.to&&""!==this.state.to&&!1===this.state.invalidAddress,a=e?"Theta (".concat(R(this.getBalanceOfTokenType(Fe.THETA)),")"):"Theta (Loading...)",n=e?"TFuel (".concat(R(this.getBalanceOfTokenType(Fe.THETA_FUEL)),")"):"TFuel (loading...)",r=s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,"Transaction Fee")),i=s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,"Amount"),t&&s.a.createElement("a",{className:"TxForm__entire-balance",onClick:this.handleEntireBalanceClick},"Entire Balance")),o=this.isValid(),l=this.state.invalidAddress?"Invalid address":null,c=null;return this.state.insufficientFunds?c="Insufficient funds":this.state.invalidDecimalPlaces?c="Invalid denomination":this.state.invalidAmount&&(c="Invalid amount"),s.a.createElement("div",{className:"TxForm"},s.a.createElement(fr,{title:"Token"},s.a.createElement("select",{className:"BottomBorderInput",value:this.state.tokenType,onChange:this.handleChange,name:"tokenType"},s.a.createElement("option",{value:Fe.THETA},a),s.a.createElement("option",{value:Fe.THETA_FUEL},n))),s.a.createElement(fr,{title:"To",error:l},s.a.createElement("input",{className:"BottomBorderInput",name:"to",placeholder:"Enter address",value:this.state.to,onChange:this.handleChange})),s.a.createElement(fr,{title:i,error:c},s.a.createElement("input",{className:"BottomBorderInput",type:"text",value:this.state.amount,name:"amount",placeholder:"Enter amount to send",onChange:this.handleChange})),s.a.createElement("div",{className:"TxForm__fee-container"},s.a.createElement("div",{className:""},s.a.createElement(vr,{title:r,value:this.state.transactionFee+" TFuel"}))),s.a.createElement(sn,{title:"Send",disabled:!1===o,onClick:this.handleSendClick}))}}]),t}(s.a.Component)),Er=Object(g.b)((function(e){return{balancesByType:e.wallet.balancesByType,walletAddress:e.wallet.address,balancesLoaded:!B.a.isNil(e.wallet.balancesRefreshedAt)}}))(kr),yr=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.tokenType||Fe.THETA,t=null;return t=e===Fe.THETA||e===Fe.THETA_FUEL?s.a.createElement(Er,{defaultTokenType:e}):s.a.createElement(br,{defaultTokenType:e}),s.a.createElement(ur,null,s.a.createElement("div",{className:"SendModal"},s.a.createElement("div",{className:"SendModal__title"},"Send"),s.a.createElement(hr,{message:"Do not send to Ethereum/ERC20 addresses.",learnMoreHref:mr,style:{marginBottom:20}}),t))}}]),t}(s.a.Component),Tr=(a(585),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).close=e.close.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"close",value:function(){$e.dispatch(Gt())}},{key:"render",value:function(){return s.a.createElement(ur,null,s.a.createElement("div",{className:"PrivateKeyModal"},s.a.createElement("div",{className:"PrivateKeyModal__title"},"Your Private Key"),s.a.createElement("div",{className:"PrivateKeyModal__instructions"},"Backup the text below on paper or digitally and keep it somewhere safe and secure."),s.a.createElement("textarea",{className:"PrivateKeyModal__private-key",value:this.props.privateKey,readOnly:!0}),s.a.createElement(sn,{title:"Close",onClick:this.close})))}}]),t}(s.a.Component)),Cr=(a(88),a(586),a(36)),wr=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={password:""},e.handleChange=e.handleChange.bind(Object(et.a)(e)),e.handleSendClick=e.handleSendClick.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(P.a)({},t,a))}},{key:"handleSendClick",value:function(){this.props.dispatch(ea(this.props.network,this.props.transaction,this.state.password))}},{key:"render",value:function(){var e,t=this.props.transaction,a=t.tokenType,n=t.amount,r=t.to,i=t.transactionFee,o=Ht.getWalletHardware()||this.state.password.length>0,l=this.props.isCreatingTransaction,c=function(e,t){return s.a.createElement("div",{className:"TxConfirmationModal__row"},s.a.createElement("div",{className:"TxConfirmationModal__row-title"},e),s.a.createElement("div",{className:"TxConfirmationModal__row-value"},t))};e=s.a.createElement(s.a.Fragment,null,c("From",this.props.walletAddress),c("Transaction Fee",i+" TFUEL"));var u=null;return Ht.getWalletHardware()||(u=s.a.createElement("div",{className:"TxConfirmationModal__password-container"},s.a.createElement("div",{className:"TxConfirmationModal__password-title"},"Enter your wallet password to sign this transaction"),s.a.createElement("input",{className:"ChoosePasswordCard__password-input",placeholder:"Enter wallet password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange.bind(this)}))),s.a.createElement(ur,null,s.a.createElement("div",{className:"TxConfirmationModal"},s.a.createElement("div",{className:"TxConfirmationModal__title"},"Confirm Transaction"),s.a.createElement("div",{className:"TxConfirmationModal__amount-title"},"You are sending"),s.a.createElement("div",{className:"TxConfirmationModal__amount"},R(n)),s.a.createElement("div",{className:"TxConfirmationModal__token-name"},xe(a)),s.a.createElement("div",{className:"TxConfirmationModal__to-title"},"To recipient"),s.a.createElement("div",{className:"TxConfirmationModal__to"},r),s.a.createElement("div",{className:"TxConfirmationModal__rows"},e),u,s.a.createElement(sn,{title:"Confirm & Send",disabled:l||!1===o,onClick:this.handleSendClick,loading:l})))}}]),t}(s.a.Component),Or=Object(Cr.a)((function(e){return{walletAddress:e.wallet.address,isCreatingTransaction:e.transactions.isCreatingTransaction}}))(wr),Nr=(a(587),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={tfuelWei:null,thetaWei:null,isLoading:!0},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"fetchBalances",value:function(){var e=Object(nt.a)(at.a.mark((function e(t){var a,n,r,s;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.fetchWallet(t,{network:ft.getChainID()});case 2:if(!(a=e.sent)){e.next=11;break}return e.next=6,a.json();case 6:n=e.sent,r=n.balances,s=null,s=r?W(r.map((function(e){return e.type})),r.map((function(e){return e.value}))):{theta:0,tfuel:0},this.setState({balances:s,isLoading:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this.props.address;this.fetchBalances(e)}},{key:"render",value:function(){var e=this.props,t=e.address,a=e.serializedPath,n=e.isSelected,r=e.onClick,i=this.state,o=i.balances,l=null;return l=i.isLoading?s.a.createElement(Qa.a,{singleColor:"#ffffff"}):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"ColdWalletSelectorModal__amount-container"},s.a.createElement("div",{className:"ColdWalletSelectorModal__amount"},o.theta),s.a.createElement("img",{className:"ColdWalletSelectorModal__amount-icon",src:"/img/tokens/theta_large@2x.png"})),s.a.createElement("div",{className:"ColdWalletSelectorModal__amount-container"},s.a.createElement("div",{className:"ColdWalletSelectorModal__amount"},o.tfuel),s.a.createElement("img",{className:"ColdWalletSelectorModal__amount-icon",src:"/img/tokens/tfuel_large@2x.png"}))),s.a.createElement("a",{className:"ColdWalletSelectorModal__row",key:a,onClick:r},s.a.createElement("img",{className:"ColdWalletSelectorModal__checkmark-icon",src:n?"/img/icons/checkmark-green@2x.png":"/img/icons/checkmark-transparent@2x.png"}),s.a.createElement("div",{className:"ColdWalletSelectorModal__row-address"},t),s.a.createElement("div",{className:"ColdWalletSelectorModal__row-balance"},l))}}]),t}(s.a.Component)),_r=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={page:e.page,addressChosen:null,pathChosen:null,addresses:e.addresses,isLoading:!1},a.handleUnlockWalletClick=a.handleUnlockWalletClick.bind(Object(et.a)(a)),a.handlePrevPageClick=a.handlePrevPageClick.bind(Object(et.a)(a)),a.handleNextPageClick=a.handleNextPageClick.bind(Object(et.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"isValid",value:function(){return null!=this.state.addressChosen}},{key:"handleUnlockWalletClick",value:function(){$e.dispatch(ka(Bt,null,{hardware:this.props.hardware,address:this.state.addressChosen,path:this.state.pathChosen})),$e.dispatch(Gt())}},{key:"handleAddressClick",value:function(e){e.address===this.state.addressChosen?this.setState({addressChosen:null,pathChosen:null}):this.setState({addressChosen:e.address,pathChosen:e.serializedPath})}},{key:"handlePrevPageClick",value:function(){this.setState({page:this.state.page-1,addressChosen:null,pathChosen:null})}},{key:"handleNextPageClick",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t,a,n,r,s;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.page+1,this.setState({page:t,addressChosen:null,pathChosen:null}),"ledger"!==this.props.hardware){e.next=10;break}if(!(this.state.addresses.length<5*(t+1))){e.next=10;break}return this.setState({isLoading:!0}),a=this.props,n=a.hardware,r=a.derivationPath,e.next=8,Ht.getHardwareWalletAddresses(n,t,r);case 8:s=e.sent,this.setState({addresses:[].concat(Object(b.a)(this.state.addresses),Object(b.a)(s)),isLoading:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.loading||!1===this.isValid(),a=this.state.isLoading,n=function(t){if(t)return s.a.createElement(Nr,{address:t.address,serializedPath:t.serializedPath,key:t.address,isSelected:e.state.addressChosen===t.address,onClick:function(){e.handleAddressClick(t)}})},r=null;if(this.state.addresses){var i=this.state.addresses;r=[];for(var o=0;o<5;o++){var l=i[5*this.state.page+o];r.push(n(l))}r=s.a.createElement(s.a.Fragment,null,r)}var c=this.state.page>0,u=!0,d=!1,h=!1;return"trezor"===this.props.hardware?u=5*(this.state.page+1)<this.state.addresses.length:"ledger"===this.props.hardware&&(u=!0),d=c&&!1===a?s.a.createElement("a",{className:"ColdWalletSelectorModal__footer-button",onClick:this.handlePrevPageClick},"< Previous"):s.a.createElement("div",null),h=u&&!1===a?s.a.createElement("a",{className:"ColdWalletSelectorModal__footer-button",onClick:this.handleNextPageClick},"Next >"):s.a.createElement("div",null),s.a.createElement(ur,null,s.a.createElement("div",{className:"ColdWalletSelectorModal"},s.a.createElement("div",{className:"ColdWalletSelectorModal__title"},a?"Loading Addresses":"Select an Address"),s.a.createElement("div",{className:"ColdWalletSelectorModal__rows"},r),s.a.createElement("div",{className:"ColdWalletSelectorModal__footer"},d,h),s.a.createElement(sn,{title:"Access My Wallet",disabled:t,onClick:this.handleUnlockWalletClick,loading:this.state.isLoading})))}}]),t}(s.a.Component),Sr=(a(588),a(589),function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleDepositStakeClick=function(){var e=a.getHolderSummary();$e.dispatch(Rt({type:ma,props:{network:ft.getChainID(),transaction:{purpose:a.props.purpose,tokenType:a.state.tokenType,from:a.props.walletAddress,holder:e,amount:a.state.amount,transactionFee:a.state.transactionFee},guardianNodeDelegate:a.props.guardianNodeDelegate}}))};var n=e.purpose===ut.a.StakePurposes.StakeForEliteEdge?Fe.THETA_FUEL:Fe.THETA;return a.state={tokenType:n,holder:"",amount:"",transactionFee:ft.getTransactionFee(),invalidHolder:!1,insufficientFunds:!1,invalidAmount:!1,invalidDecimalPlaces:!1},a.handleChange=a.handleChange.bind(Object(et.a)(a)),a.handleEntireBalanceClick=a.handleEntireBalanceClick.bind(Object(et.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getBalanceOfTokenType",value:function(e){return B.a.get(this.props.balancesByType,e,0)}},{key:"handleChange",value:function(e){var t=this,a=e.target.name,n=e.target.value;if("tokenType"===a){var r={holder:"",amount:"",transactionFee:ft.getTransactionFee(),invalidHolder:!1,invalidDecimalPlaces:!1,invalidAmount:!1,invalidDelegatedAmount:!1,insufficientFunds:!1};this.setState(Object.assign(r,{tokenType:n}))}else"amount"===a&&(n=n.replace(/[^0-9.]/g,"")),this.setState(Object(P.a)({},a,n),(function(){t.validate()}))}},{key:"isValid",value:function(){return this.getHolderSummary().length>0&&this.state.amount.length>0&&!1===this.state.invalidHolder&&!1===this.state.insufficientFunds&&!1===this.state.invalidDecimalPlaces&&!1===this.state.invalidAmount&&!1===this.state.invalidDelegatedAmount}},{key:"calculateEntireTFuelBalance",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t,a,n,r,s;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.transactionFee,a=this.getBalanceOfTokenType(Fe.THETA_FUEL),t&&(n=new Pe.BigNumber(t),r=new Pe.BigNumber(a),s=r.minus(n),this.setState({amount:s.toString()}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleEntireBalanceClick",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t,a,n,r,s,i,o;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.purpose,this.state.tokenType===Fe.THETA?(a=this.getBalanceOfTokenType(Fe.THETA),this.setState({amount:a})):this.state.tokenType===Fe.THETA_FUEL&&(n=this.getBalanceOfTokenType(Fe.THETA_FUEL),(r=this.state.transactionFee)&&(s=new Pe.BigNumber(r),i=new Pe.BigNumber(n),o=i.minus(s),o=Pe.BigNumber.minimum(o,new Pe.BigNumber(Bn(t))),o=Pe.BigNumber.maximum(o,new Pe.BigNumber(0)),this.setState({amount:o.toString()})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHolderSummary",value:function(){return this.state.holder||B.a.get(this.props.guardianNodeDelegate,"node_summary","")}},{key:"validate",value:function(){this.state.holder.length>0&&this.validateHolder(),this.state.amount.length>0&&this.validateAmount()}},{key:"validateHolder",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t,a;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.purpose,a=!1,t===ut.a.StakePurposes.StakeForValidator?a=ft.isAddress(this.state.holder):t===ut.a.StakePurposes.StakeForGuardian?a=ft.isValidHolderSummary(t,this.getHolderSummary()):t===ut.a.StakePurposes.StakeForEliteEdge&&(a=ft.isValidHolderSummary(t,this.getHolderSummary())),this.setState({invalidHolder:!1===a});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validateAmount",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t,a,n,r,s,i,o;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,a=t.purpose,n=t.guardianNodeDelegate,r=parseFloat(this.state.amount),s=this.getBalanceOfTokenType(Fe.THETA),i=this.getBalanceOfTokenType(Fe.THETA_FUEL),o=null,this.state.tokenType===Fe.THETA?o=s:this.state.tokenType===Fe.THETA_FUEL&&(o=i),this.setState({insufficientFunds:r>parseFloat(o),invalidAmount:0===r||r<In(a)||r>Bn(a),invalidDecimalPlaces:!H(this.state.amount,18),invalidDelegatedAmount:!B.a.isNil(n)&&r>Wn(a)});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,a){this.state.holder!==t.holder&&this.validateHolder(),this.state.amount===t.amount&&this.state.gasPrice===t.gasPrice||this.validateAmount()}},{key:"render",value:function(){var e=this.props,t=e.purpose,a=e.guardianNodeDelegate,n=e.balancesLoaded,r=null!==this.state.holder&&""!==this.state.holder&&!1===this.state.invalidHolder,i=n?"Theta (".concat(R(this.getBalanceOfTokenType(Fe.THETA)),")"):"Theta (Loading...)",o=n?"TFuel (".concat(R(this.getBalanceOfTokenType(Fe.THETA_FUEL)),")"):"TFuel (loading...)",l=s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,"Transaction Fee")),c=s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,"Amount"),r&&s.a.createElement("a",{className:"TxForm__entire-balance",onClick:this.handleEntireBalanceClick},"Entire Balance")),u=this.isValid(),d=null,h=null;this.state.invalidHolder&&(t===ut.a.StakePurposes.StakeForValidator?d="Invalid holder address":t===ut.a.StakePurposes.StakeForGuardian&&(d="Invalid holder summary")),this.state.insufficientFunds?h="Insufficient funds":this.state.invalidDecimalPlaces?h="Invalid denomination":this.state.invalidAmount?h=this.props.purpose===ut.a.StakePurposes.StakeForEliteEdge?"Invalid amount. Must be at least "+R(In(t))+" TFUEL and no more than "+R(Bn(t))+" TFUEL":"Invalid amount. Must be at least "+R(In(t))+" THETA":this.state.invalidDelegatedAmount&&(h="Invalid amount. There's a max of ".concat(R(Wn(t))," THETA. Please download and run your own Guardian Node to stake more."));var m="",p="";return t===ut.a.StakePurposes.StakeForValidator?(m="Validator Node Holder (Address)",p="Enter validator node address"):t===ut.a.StakePurposes.StakeForGuardian?(m="Guardian Node Holder (Summary)",p="Enter guardian node summary"):t===ut.a.StakePurposes.StakeForEliteEdge&&(m="Edge Node Holder (Summary)",p="Enter edge node summary"),s.a.createElement("div",{className:"TxForm"},s.a.createElement(fr,{title:"Token"},s.a.createElement("select",{className:"BottomBorderInput",value:this.state.tokenType,onChange:this.handleChange,name:"tokenType"},t===ut.a.StakePurposes.StakeForEliteEdge&&s.a.createElement("option",{value:Fe.THETA_FUEL},o),t!==ut.a.StakePurposes.StakeForEliteEdge&&s.a.createElement("option",{value:Fe.THETA},i))),B.a.isNil(a)&&s.a.createElement(fr,{title:m,error:d},s.a.createElement("input",{className:"BottomBorderInput",name:"holder",placeholder:p,value:this.state.holder,onChange:this.handleChange})),s.a.createElement(fr,{title:c,error:h},s.a.createElement("input",{className:"BottomBorderInput",type:"text",value:this.state.amount,name:"amount",placeholder:"Enter amount to stake",onChange:this.handleChange})),s.a.createElement("div",{className:"TxForm__fee-container"},s.a.createElement("div",{className:""},s.a.createElement(vr,{title:l,value:this.state.transactionFee+" TFuel"}))),s.a.createElement(sn,{title:"Deposit Stake",disabled:!1===u,onClick:this.handleDepositStakeClick}))}}]),t}(s.a.Component)),jr=Object(g.b)((function(e){return{balancesByType:e.wallet.balancesByType,walletAddress:e.wallet.address,balancesLoaded:!B.a.isNil(e.wallet.balancesRefreshedAt)}}))(Sr),Ar=(a(590),a(28)),xr=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.purpose,a=e.title,n=e.subtitle,r=e.isDisabled,i=e.isSelected,o=e.onClick,l=Ar("StakePurposeSelectorItem",{"StakePurposeSelectorItem--is-selected":i,"StakePurposeSelectorItem--is-disabled":r});return s.a.createElement("a",{className:l,onClick:function(){!r&&o&&o(t)}},s.a.createElement("div",{className:"StakePurposeSelectorItem__title"},a),s.a.createElement("div",{className:"StakePurposeSelectorItem__subtitle"},n))}}]),t}(s.a.Component),Fr=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"StakePurposeSelector"},this.props.children)}}]),t}(s.a.Component),Pr=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handleContinueClick=function(){e.setState({purpose:e.state.selectedPurpose})},e.handlePurposeClick=function(t){e.setState({selectedPurpose:t})},e.handleDelegatedGuardianNodeClick=function(){$e.dispatch(Rt({type:ba,props:{onSelectNode:function(t){e.setState({selectedGuardianNodeDelegate:t,purpose:ut.a.StakePurposes.StakeForGuardian})}}}))},e.state={purpose:null,selectedPurpose:null,selectedGuardianNodeDelegate:null},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.purpose,a=e.selectedPurpose,n=e.selectedGuardianNodeDelegate;e.guardianNodeDelegate,ft.getChainID();return s.a.createElement(ur,null,s.a.createElement("div",{className:"DepositStakeModal"},s.a.createElement("div",{className:"DepositStakeModal__title"},"Deposit Stake"),t&&n&&s.a.createElement("div",{className:"StakePurposeContainer__instructions"},"to ".concat(n.name,"'s Node")),null!==t&&s.a.createElement(jr,{purpose:t,key:t,guardianNodeDelegate:n}),null===t&&s.a.createElement("div",{className:"StakePurposeContainer"},s.a.createElement("div",{className:"StakePurposeContainer__instructions"},"Please choose the staking purpose"),s.a.createElement(Fr,null,s.a.createElement(xr,{purpose:ut.a.StakePurposes.StakeForEliteEdge,title:"Edge Node",subtitle:"Deposit stake to your Edge node",isSelected:a===ut.a.StakePurposes.StakeForEliteEdge,isDisabled:!1,onClick:this.handlePurposeClick}),s.a.createElement(xr,{purpose:ut.a.StakePurposes.StakeForValidator,title:"Validator Node",subtitle:"Deposit stake to your Validator node",isSelected:a===ut.a.StakePurposes.StakeForValidator,onClick:this.handlePurposeClick}),s.a.createElement(xr,{purpose:ut.a.StakePurposes.StakeForGuardian,title:"Guardian Node",subtitle:"Deposit stake to your Guardian node",isSelected:a===ut.a.StakePurposes.StakeForGuardian,isDisabled:!1,onClick:this.handlePurposeClick}),s.a.createElement(xr,{purpose:ut.a.StakePurposes.StakeForGuardian,title:"Delegated Guardian Node",subtitle:"Deposit stake to a community run Guardian node",isDisabled:!1,onClick:this.handleDelegatedGuardianNodeClick})),s.a.createElement("div",{className:"StakePurposeContainer__footer"},s.a.createElement(sn,{title:"Continue",disabled:null===a,onClick:this.handleContinueClick})))))}}]),t}(s.a.Component),Ir=(a(591),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handleConfirmClick=function(){e.props.dispatch(aa(e.props.network,e.props.transaction,e.state.password))},e.state={password:""},e.handleChange=e.handleChange.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(P.a)({},t,a))}},{key:"render",value:function(){var e=this.props,t=e.transaction,a=e.guardianNodeDelegate,n=t.tokenType,r=t.amount,i=t.holder,o=t.transactionFee,l=t.purpose,c=Ht.getWalletHardware()||this.state.password.length>0,u=this.props.isCreatingTransaction,d=function(e,t){return s.a.createElement("div",{className:"TxConfirmationModal__row"},s.a.createElement("div",{className:"TxConfirmationModal__row-title"},e),s.a.createElement("div",{className:"TxConfirmationModal__row-value"},t))},h=s.a.createElement(s.a.Fragment,null,d("From",this.props.walletAddress),d("Transaction Fee",o+" TFUEL")),m=null;Ht.getWalletHardware()||(m=s.a.createElement("div",{className:"TxConfirmationModal__password-container"},s.a.createElement("div",{className:"TxConfirmationModal__password-title"},"Enter your wallet password to sign this transaction"),s.a.createElement("input",{className:"ChoosePasswordCard__password-input",placeholder:"Enter wallet password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange.bind(this)})));var p=null;return l===ut.a.StakePurposes.StakeForValidator?p="Validator Node Holder (Address)":l===ut.a.StakePurposes.StakeForGuardian?p=a?"Delegated Guardian Node":"Guardian Node Holder (Summary)":l===ut.a.StakePurposes.StakeForEliteEdge&&(p="Edge Node Holder (Summary)"),s.a.createElement(ur,null,s.a.createElement("div",{className:"TxConfirmationModal"},s.a.createElement("div",{className:"TxConfirmationModal__title"},"Confirm Transaction"),s.a.createElement("div",{className:"TxConfirmationModal__amount-title"},"You are depositing"),s.a.createElement("div",{className:"TxConfirmationModal__amount"},R(r)),s.a.createElement("div",{className:"TxConfirmationModal__token-name"},xe(n)),s.a.createElement("div",{className:"TxConfirmationModal__holder-title"},p),a&&s.a.createElement("div",{className:"TxConfirmationModal__holder"},"".concat(a.name)),a&&s.a.createElement("div",{className:"TxConfirmationModal__holder"},a.address),B.a.isNil(a)&&s.a.createElement("div",{className:"TxConfirmationModal__holder"},i),s.a.createElement("div",{className:"TxConfirmationModal__rows"},h),m,s.a.createElement(sn,{title:"Confirm & Deposit Stake",disabled:u||!1===c,onClick:this.handleConfirmClick,loading:u})))}}]),t}(s.a.Component)),Br=Object(Cr.a)((function(e){return{walletAddress:e.wallet.address,isCreatingTransaction:e.transactions.isCreatingTransaction}}))(Ir),Wr=(a(592),a(593),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleWithdrawStakeClick=function(){$e.dispatch(Rt({type:fa,props:{network:ft.getChainID(),transaction:{purpose:a.props.purpose,from:a.props.walletAddress,holder:a.state.holder,transactionFee:a.state.transactionFee}}}))},a.state={holder:"",transactionFee:ft.getTransactionFee(),invalidHolder:!1},a.handleChange=a.handleChange.bind(Object(et.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=this,a=e.target.name,n=e.target.value;this.setState(Object(P.a)({},a,n),(function(){t.validate()}))}},{key:"isValid",value:function(){return this.state.holder.length>0&&!1===this.state.invalidHolder}},{key:"validate",value:function(){this.state.holder.length>0&&this.validateHolder()}},{key:"validateHolder",value:function(){var e=Object(nt.a)(at.a.mark((function e(){var t;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1,t=ft.isAddress(this.state.holder),this.setState({invalidHolder:!1===t});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,a){this.state.holder!==t.holder&&this.validateHolder()}},{key:"render",value:function(){var e=this.props.purpose,t=s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,"Transaction Fee")),a=this.isValid(),n=null;this.state.invalidHolder&&(e===ut.a.StakePurposes.StakeForValidator?n="Invalid validator node address (holder)":e===ut.a.StakePurposes.StakeForGuardian?n="Invalid guardian node address (holder)":e===ut.a.StakePurposes.StakeForEliteEdge&&(n="Invalid guardian node address (holder)"));var r="",i="";return e===ut.a.StakePurposes.StakeForValidator?(r="Validator Node Address (Holder)",i="Enter validator node address"):e===ut.a.StakePurposes.StakeForGuardian?(r="Guardian Node Address (Holder)",i="Enter guardian node address"):e===ut.a.StakePurposes.StakeForEliteEdge&&(r="Edge Node Address (Holder)",i="Enter edge node address"),s.a.createElement("div",{className:"TxForm"},s.a.createElement(fr,{title:r,error:n},s.a.createElement("input",{className:"BottomBorderInput",name:"holder",placeholder:i,value:this.state.holder,onChange:this.handleChange})),s.a.createElement("div",{className:"TxForm__fee-container"},s.a.createElement("div",{className:""},s.a.createElement(vr,{title:t,value:this.state.transactionFee+" TFuel"}))),s.a.createElement(sn,{title:"Withdraw Stake",disabled:!1===a,onClick:this.handleWithdrawStakeClick}))}}]),t}(s.a.Component)),Hr=Object(g.b)((function(e){return{walletAddress:e.wallet.address}}))(Wr),Dr=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handleContinueClick=function(){e.setState({purpose:e.state.selectedPurpose})},e.handlePurposeClick=function(t){e.setState({selectedPurpose:t})},e.state={purpose:null,selectedPurpose:null},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.purpose,a=e.selectedPurpose;ft.getChainID();return s.a.createElement(ur,null,s.a.createElement("div",{className:"WithdrawStakeModal"},s.a.createElement("div",{className:"WithdrawStakeModal__title"},"Withdraw Stake"),null!==t&&s.a.createElement(Hr,{purpose:t,key:t}),null===t&&s.a.createElement("div",{className:"StakePurposeContainer"},s.a.createElement("div",{className:"StakePurposeContainer__instructions"},"Please choose the staking purpose"),s.a.createElement(Fr,null,s.a.createElement(xr,{purpose:ut.a.StakePurposes.StakeForEliteEdge,title:"Edge Node",subtitle:"Withdraw stake from a Edge node",isSelected:a===ut.a.StakePurposes.StakeForEliteEdge,onClick:this.handlePurposeClick}),s.a.createElement(xr,{purpose:ut.a.StakePurposes.StakeForValidator,title:"Validator Node",subtitle:"Withdraw stake from a Validator node",isSelected:a===ut.a.StakePurposes.StakeForValidator,onClick:this.handlePurposeClick}),s.a.createElement(xr,{purpose:ut.a.StakePurposes.StakeForGuardian,title:"Guardian Node",subtitle:"Withdraw stake from your Guardian node",isSelected:a===ut.a.StakePurposes.StakeForGuardian,isDisabled:!1,onClick:this.handlePurposeClick})),s.a.createElement("div",{className:"StakePurposeContainer__footer"},s.a.createElement(sn,{title:"Continue",disabled:null===a,onClick:this.handleContinueClick})))))}}]),t}(s.a.Component),Mr=(a(594),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handleConfirmClick=function(){e.props.dispatch(ra(e.props.network,e.props.transaction,e.state.password))},e.state={password:""},e.handleChange=e.handleChange.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(P.a)({},t,a))}},{key:"render",value:function(){var e=this.props.transaction,t=e.purpose,a=e.holder,n=e.transactionFee,r=Ht.getWalletHardware()||this.state.password.length>0,i=this.props.isCreatingTransaction,o=function(e,t){return s.a.createElement("div",{className:"TxConfirmationModal__row"},s.a.createElement("div",{className:"TxConfirmationModal__row-title"},e),s.a.createElement("div",{className:"TxConfirmationModal__row-value"},t))},l=s.a.createElement(s.a.Fragment,null,o("Withdraw To",this.props.walletAddress),o("Transaction Fee",n+" TFUEL")),c=null;Ht.getWalletHardware()||(c=s.a.createElement("div",{className:"TxConfirmationModal__password-container"},s.a.createElement("div",{className:"TxConfirmationModal__password-title"},"Enter your wallet password to sign this transaction"),s.a.createElement("input",{className:"ChoosePasswordCard__password-input",placeholder:"Enter wallet password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange.bind(this)})));var u=null;return t===ut.a.StakePurposes.StakeForValidator?u="Validator Node (Holder)":t===ut.a.StakePurposes.StakeForGuardian?u="Guardian Node (Holder)":t===ut.a.StakePurposes.StakeForEliteEdge&&(u="Edge Node (Holder)"),s.a.createElement(ur,null,s.a.createElement("div",{className:"TxConfirmationModal"},s.a.createElement("div",{className:"TxConfirmationModal__title"},"Confirm Transaction"),s.a.createElement("div",{className:"TxConfirmationModal__amount-title"},"You are withdrawing stake from"),s.a.createElement("div",{className:"TxConfirmationModal__holder-title"},u),s.a.createElement("div",{className:"TxConfirmationModal__holder"},a),s.a.createElement("div",{className:"TxConfirmationModal__rows"},l),c,s.a.createElement(sn,{title:"Confirm & Withdraw Stake",disabled:i||!1===r,onClick:this.handleConfirmClick,loading:i})))}}]),t}(s.a.Component)),Lr=Object(Cr.a)((function(e){return{walletAddress:e.wallet.address,isCreatingTransaction:e.transactions.isCreatingTransaction}}))(Mr),Ur=(a(595),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handleConfirmClick=function(){e.props.dispatch(ia(e.props.network,e.props.contractMode,e.props.contractAbi,e.props.transaction,e.state.password))},e.state={password:""},e.handleChange=e.handleChange.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(P.a)({},t,a))}},{key:"render",value:function(){var e=this.props,t=e.transaction,a=e.contractMode,n=(e.contractAbi,t.to),r=(t.from,t.data),i=t.gasLimit,o=t.transactionFee,l=(t.value,Ht.getWalletHardware()||this.state.password.length>0),c=this.props.isCreatingTransaction,u=function(e,t){return s.a.createElement("div",{className:"TxConfirmationModal__row"},s.a.createElement("div",{className:"TxConfirmationModal__row-title"},e),s.a.createElement("div",{className:"TxConfirmationModal__row-value"},t))},d=s.a.createElement(s.a.Fragment,null,u("From",this.props.walletAddress),n&&u("To",n),u("Data",s.a.createElement("div",{style:{maxWidth:315,overflowY:"auto",height:"100",maxHeight:100,overflowWrap:"break-word"}},r)),u("Transaction Fee",o+" TFUEL"),u("Gas Limit",i)),h=null,m=null;a===Yt?(h="You are deploying a smart contract",m="Confirm & Deploy"):a===qt?(h="You are executing a smart contract",m="Confirm & Execute"):a===Jt&&(h="You are calling a smart contract",m="Confirm & Call");var p=null;return Ht.getWalletHardware()||(p=s.a.createElement("div",{className:"TxConfirmationModal__password-container"},s.a.createElement("div",{className:"TxConfirmationModal__password-title"},"Enter your wallet password to sign this transaction"),s.a.createElement("input",{className:"ChoosePasswordCard__password-input",placeholder:"Enter wallet password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange.bind(this)}))),s.a.createElement(ur,null,s.a.createElement("div",{className:"TxConfirmationModal"},s.a.createElement("div",{className:"TxConfirmationModal__title"},"Confirm Transaction"),s.a.createElement("div",{className:"TxConfirmationModal__amount-title"},h),s.a.createElement("div",{className:"TxConfirmationModal__rows"},d),p,s.a.createElement(sn,{title:m,disabled:c||!1===l,onClick:this.handleConfirmClick,loading:c})))}}]),t}(s.a.Component)),Rr=Object(Cr.a)((function(e){return{walletAddress:e.wallet.address,isCreatingTransaction:e.transactions.isCreatingTransaction}}))(Ur),Gr=(a(596),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.network,a=e.onClick,n=t.name,r=t.description;return s.a.createElement("a",{className:"NetworkSelectorModal__row",onClick:a},s.a.createElement("div",{className:"NetworkSelectorModal__row-name"},n),s.a.createElement("div",{className:"NetworkSelectorModal__row-description"},r))}}]),t}(s.a.Component)),Kr=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleNetworkClick",value:function(e){var t;$e.dispatch(Gt()),$e.dispatch((t=e.id,ft.setChainID(t),function(){var e=Object(nt.a)(at.a.mark((function e(a,n){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:F,network:t});case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()))}},{key:"render",value:function(){for(var e=this,t=function(t){return s.a.createElement(Gr,{key:t.id,network:t,onClick:function(){e.handleNetworkClick(t)}})},a=[],n=0;n<K.length;n++){var r=K[n];a.push(t(r))}return s.a.createElement(ur,null,s.a.createElement("div",{className:"NetworkSelectorModal"},s.a.createElement("div",{className:"NetworkSelectorModal__title"},"Select a Network"),s.a.createElement("div",{className:"NetworkSelectorModal__rows"},a)))}}]),t}(s.a.Component),Vr=(a(597),a(598),a(28)),Yr=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.node,a=e.isDisabled,n=e.isSelected,r=e.onClick,i=t.name,o=t.address,l=Vr("GuardianNodeDelegateItem",{"GuardianNodeDelegateItem--is-selected":n,"GuardianNodeDelegateItem--is-disabled":a});return s.a.createElement("a",{className:l,onClick:function(){!a&&r&&r(t)}},s.a.createElement("div",{className:"GuardianNodeDelegateItem__name"},i),s.a.createElement("div",{className:"GuardianNodeDelegateItem__address"},o))}}]),t}(s.a.Component),zr=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"GuardianNodeDelegateSelector"},this.props.children)}}]),t}(s.a.Component);a(599);var qr,Jr=a(28),Xr=function(e){var t=e.message,a=e.options,n=e.style,r=e.close,i=a.type,o="Alert--".concat(i),l=Jr("Alert",o);return s.a.createElement("div",{style:n,className:l},s.a.createElement("img",{src:"/img/icons/alert-".concat(i,"@2x.png"),className:"Alert__icon"}),s.a.createElement("div",{className:"Alert__message"},t),r&&s.a.createElement("button",{className:"Alert__close-button",onClick:r},s.a.createElement("img",{src:"/img/icons/alert-x@2x.png"})))},Zr=(a(600),a(28)),Qr=function(e){var t=e.message,a=e.color,n=e.style,r="Notification--".concat(a),i=Zr("Notification",r);return s.a.createElement("div",{style:n,className:i},t)},$r=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handleDelegateClick=function(t){e.setState({selectedGuardianNodeDelegate:t})},e.handleContinueClick=function(){e.props.onSelectNode(e.state.selectedGuardianNodeDelegate),e.props.closeModal()},e.state={selectedGuardianNodeDelegate:null},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Dt(Ye,(function(){return Tt.fetchGuardianNodeDelegates()})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.guardianNodeDelegates,n=(t.isFetchingGuardianNodeDelegates,this.state.selectedGuardianNodeDelegate);return s.a.createElement(ur,null,s.a.createElement("div",{className:"GuardianNodeDelegatesModal"},s.a.createElement("div",{className:"GuardianNodeDelegatesModal__title"},"Delegated Guardian Nodes"),s.a.createElement("div",{className:"GuardianNodeDelegatesContainer"},s.a.createElement("div",{className:"GuardianNodeDelegatesContainer__instructions"},"Select a Guardian Node delegate"),s.a.createElement(Qr,{message:"Delegated staking Guardian Nodes are nodes run by Theta community volunteers. Uptime of these nodes is not guaranteed, and you may not receive full TFUEL rewards if the node you delegate to has significant downtime.",color:"orange"}),s.a.createElement(zr,null,a.map((function(t,a){return s.a.createElement(Yr,{node:t,isSelected:n&&t.id===n.id,onClick:e.handleDelegateClick})}))),s.a.createElement("div",{className:"GuardianNodeDelegatesContainer__footer"},s.a.createElement(sn,{title:"Continue",disabled:null===n,onClick:this.handleContinueClick})))))}}]),t}(s.a.Component),es=Object(g.b)((function(e,t){return{guardianNodeDelegates:e.nodes.guardianNodeDelegates,isFetchingGuardianNodeDelegates:e.nodes.isFetchingGuardianNodeDelegates}}))($r),ts=(qr={},Object(P.a)(qr,oa,pr),Object(P.a)(qr,la,yr),Object(P.a)(qr,ca,Or),Object(P.a)(qr,ua,Tr),Object(P.a)(qr,da,_r),Object(P.a)(qr,ha,Pr),Object(P.a)(qr,ma,Br),Object(P.a)(qr,pa,Dr),Object(P.a)(qr,fa,Lr),Object(P.a)(qr,va,Rr),Object(P.a)(qr,ga,Kr),Object(P.a)(qr,ba,es),qr),as=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.modal,t=e?e.component:null;return s.a.createElement(cr.a,{isOpen:null!==e,onRequestClose:this.props.closeModal,ariaHideApp:!1,overlayClassName:"ModalOverlay",className:"Modal"},e&&s.a.createElement(t,Object.assign({closeModal:this.props.closeModal},e.props)))}}]),t}(s.a.Component),ns=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).closeModal=e.closeModal.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"closeModal",value:function(){this.props.dispatch(Gt())}},{key:"getModal",value:function(e){var t=B.a.get(this.props.modals,[e],null);return t&&(t=Object.assign({},t,{component:ts[t.type]})),t}},{key:"render",value:function(){var e=this.getModal(0),t=this.getModal(1);return s.a.createElement("div",null,s.a.createElement(as,{modal:e,closeModal:this.closeModal}),s.a.createElement(as,{modal:t,closeModal:this.closeModal}))}}]),t}(s.a.Component),rs=Object(g.b)((function(e){return{modals:e.modals.modals}}),null)(ns),ss=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"pollLocalTransactions",value:function(){var t=$e.getState(),a=Object.keys(t.transactions.localTransactionsByHash);if(a.length>0)for(var n=0;n<a.length;n++){var r=a[n],s=t.transactions.localTransactionsByHash[r].network;$e.dispatch(Qt(s,r))}setTimeout((function(){e.pollLocalTransactions()}),5e3)}}]),e}(),is=(a(601),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"UnsupportedDevice"},s.a.createElement("div",{className:"UnsupportedDevice__content"},s.a.createElement("img",{className:"UnsupportedDevice__logo",src:"/img/logo/theta_wallet_logo@2x.png"}),s.a.createElement("div",{className:"UnsupportedDevice__title"},"This wallet is designed for desktop. Try our mobile wallets!"),s.a.createElement("a",{className:"UnsupportedDevice__app-store-badge",href:"https://itunes.apple.com/app/theta-wallet/id1451094550?mt=8",target:"_blank"},s.a.createElement("img",{src:"/img/badges/app-store@2x.png"})),s.a.createElement("a",{className:"UnsupportedDevice__app-store-badge",href:"https://play.google.com/store/apps/details?id=org.theta.wallet",target:"_blank"},s.a.createElement("img",{src:"/img/badges/google-play@2x.png"}))))}}]),t}(s.a.Component)),os=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).onSendClick=e.onSendClick.bind(Object(et.a)(e)),e.onReceiveClick=e.onReceiveClick.bind(Object(et.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onSendClick",value:function(){$e.dispatch(Rt({type:la}))}},{key:"onReceiveClick",value:function(){$e.dispatch(Rt({type:oa}))}},{key:"render",value:function(){return s.a.createElement(wa,null,s.a.createElement(Na,{title:"Wallet",href:"/wallet/tokens",normalIconUrl:"/img/tab-bar/wallet@2x.png",activeIconUrl:"/img/tab-bar/wallet-active@2x.png"}),s.a.createElement(Na,{title:"Send",onClick:this.onSendClick,normalIconUrl:"/img/tab-bar/send@2x.png",activeIconUrl:"/img/tab-bar/send-active@2x.png"}),s.a.createElement(Na,{title:"Receive",onClick:this.onReceiveClick,normalIconUrl:"/img/tab-bar/receive@2x.png",activeIconUrl:"/img/tab-bar/receive-active@2x.png"}),s.a.createElement(Na,{title:"Stakes",href:"/wallet/stakes",normalIconUrl:"/img/tab-bar/stakes@2x.png",activeIconUrl:"/img/tab-bar/stakes-active@2x.png"}),(ft.getChainID(),s.a.createElement(Na,{title:"Contract",href:"/wallet/contract",normalIconUrl:"/img/tab-bar/contract@2x.png",activeIconUrl:"/img/tab-bar/contract-active@2x.png"})),s.a.createElement(Na,{title:"Settings",href:"/wallet/settings",normalIconUrl:"/img/tab-bar/settings@2x.png",activeIconUrl:"/img/tab-bar/settings-active@2x.png"}))}}]),t}(r.Component),ls=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){Xt.setHistory(this.props.history)}},{key:"render",value:function(){var e=Ht.getWalletAddress();return s.a.createElement("div",{className:"App"},s.a.createElement(Ta,{centered:null===e}),s.a.createElement(ir,null),s.a.createElement(rs,null),s.a.createElement(is,null))}}]),t}(r.Component),cs=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){Xt.setHistory(this.props.history),ss.pollLocalTransactions()}},{key:"render",value:function(){return s.a.createElement("div",{className:"App WalletApp"},s.a.createElement(Ta,null),s.a.createElement(os,null),s.a.createElement(or,null),s.a.createElement(rs,null),s.a.createElement(is,null))}}]),t}(r.Component),us=a(247),ds={position:"top center",timeout:5e3,offset:"30px",transition:"scale"},hs=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=Vt.getRef();return s.a.createElement(m.a,null,s.a.createElement(g.a,{store:$e},s.a.createElement(us.a,Object.assign({ref:e,template:Xr},ds),s.a.createElement(p.a,null,s.a.createElement(f.a,{from:"/",to:"/unlock",exact:!0}),s.a.createElement(v.a,{path:"/wallet",component:cs}),s.a.createElement(v.a,{path:"/",component:ls})))))}}]),t}(r.Component);Pe.BigNumber.config({EXPONENTIAL_AT:1e9}),o.a.render(s.a.createElement(hs,null),document.getElementById("root"))},88:function(e,t,a){}},[[249,1,2]]]);
//# sourceMappingURL=main.91a58ccc.chunk.js.map